{"version":3,"sources":["reducers/loginField.js","reducers/loginInput.js","reducers/testLoginPass.js","reducers/loginVRM.js","reducers/installationsVRM.js","reducers/installationsObjectData.js","containers/apiVRM.js","components/login-field.js","components/showOnlogin.js","containers/login.js","components/installations-list.js","reducers/selectedInst.js","containers/installationDetails.js","containers/installations.js","components/mainMenu.js","reducers/mouseCoordinates.js","reducers/newDashboardElement.js","components/constructorElement.js","components/dashboardInConstructor.js","reducers/newDashboard.js","containers/constructorField.js","reducers/dashboards.js","reducers/dashboardName.js","reducers/dashboardId.js","containers/constructor.js","containers/dashboard.js","reducers/hideMainMenu.js","App.js","serviceWorker.js","reducers/index.js","store/middlewares.js","containers/localStorageReadWrite.js","index.js","store/index.js","logo.svg"],"names":["setSwith","createAction","handleActions","Object","defineProperty","state","_ref","payload","loginShowSelector","setLogin","setParol","clearPass","initialState","login","pass","clear","_handleActions","_ref2","_ref3","loginPassSelector","SET_TOKEN","setIsntLogin","setToken","islogin","username","idUser","headerWithToken","loginVRM_handleActions","isLoginSelector","SET_INSTALLATIONS","setInstallations","data","success","installationsSelector","SET_DATA","setInstallationObjectData","instDataObjectSelector","targetUrl","authApi","getInstallations","FormRequestToVRM","concat","idSite","formURL","urlKey","Promise","resolve","reject","axios","method","url","headers","then","responce","catch","err","getLoginRequest","loginPass","store","getState","response","status","X-Authorization","token","dispatch","showLogin","isLogin","records","CreateInstallationsDataObject","console","log","installationResponce","newDataObj","map","e","params","siteName","name","extended","idDataAttribute","code","description","value","formattedValue","updateTimerId","updateInstallations","setInstObj","time","arguments","length","undefined","setTimeout","setInterval","passInput","React","createRef","LoginField","isActive","onChangeLogin","onChangeParol","react_default","a","createElement","TextField","autoFocus","placeholder","onChange","target","onKeyDown","keyCode","current","focus","inputRef","type","Button","color","onClick","ShowOnLogin","logout","Login","_this$props","this","props","className","login_field","showOnlogin","Component","mapDispatchToProps","connect","buttonText","site","date","Date","last_timestamp","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","alarm","dataFilterParams","dataFilterEnergie","SmallSiteData","filter","elem","indexOf","energie","key","ButtonForSite","selectInst","selectedInst","disabled","installations_list_SmallSiteData","InstallationList","installations_list_ButtonForSite","setInst","installationSelector","InstallationDetail","id","instData","Installations","clearInterval","clearTimeout","react_router","push","to","installations_list","installationDetails","MainMenu","dashboards","hide","toggleHide","setDashboardId","setDashboardName","clearNewDashboard","onMouseLeave","react_router_dom","dashboard","setCoord","newState","assign","in","X","Y","dragX","dragY","mouseCoordSelector","setElement","clearElement","param","newDashboardElement_handleActions","paramName","newElementSelector","ConstructorElement","element","setMouseCoordinate","setNewElement","deleteElement","newDashboard","editElement","instDataObject","style","position","left","top","onMouseMove","ev","clientX","clientY","currentTarget","parentElement","getBoundingClientRect","cursor","classname","onMouseDown","button","onDoubleClick","prompt","IconButton","newName","Edit_default","alert","Info_default","window","confirm","Close_default","DashboardInConstructor","delete","setElemToNewDashboard","setNewDashboard","editElemInNewDashboard","deleteElemInNewDashboard","newDashboard_handleActions","toConsumableArray","_ref4","_ref5","newDashboardSelector","LevitateElement","newElement","coord","setToNewDashboard","newElementInitialState","onMouseUp","ConstructorField","bottom","width","onMouseEnter","setDashboard","loadDashboards","deleteDashboard","dashboards_handleActions","dashboardsSelector","clearDashboardName","dashboardName_handleActions","dashboardNameSelector","clearDashboardId","dashboardId_handleActions","dashboardIdSelector","Constructor","urlParam","queryString","parse","location","search","parseInt","dashboardName","dashboardId","Select","native","inputProps","input","OutlinedInput","hidden","dataArray","elementTargetParamSet","height","constructorField","zIndex","filterNewDashboard","Dashboard","_this","history","mapDispathToProps","installationsResponce","toggleMainMenu","hideMainMenuSelector","mainTheme","createMuiTheme","palette","primary","lightBlue","secondary","orange","Page404","App","rawloginVRM","localStorage","getItem","rawInst","rawDashboards","rawinstallationsObjectData","setIsLogin","JSON","setDashboards","hideMainMenu","ThemeProvider","theme","basename","exact","path","component","mapDispatchtoProps","Boolean","hostname","match","reducers","loginField","loginInput","loginVRM","installationsVRM","installationsObjectData","mouseCoordinates","newDashboardElement","filterToLocalStorageLog","_filterToLocalStorage","actionsToLocalStorage","logToLocalStorage","next","action","returnValue","stringify","setItem","createMiddlewares","__webpack_require__","d","__webpack_exports__","middlewares","createStore","combineReducers","applyMiddleware","apply","ReactDOM","render","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","p"],"mappings":"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","file":"static/js/main.5299ff6b.chunk.js","sourcesContent":["\r\nimport { handleActions, createAction} from \"redux-actions\";\r\n\r\n\r\nconst SET_SWITH = 'LOGIN_FIELD/SET_SWITH';\r\n\r\nconst REDUCER_NAME = 'loginField';\r\n\r\nexport const setSwith = createAction(SET_SWITH);\r\n\r\nconst initialState = true;\r\n\r\nexport default handleActions({\r\n    [setSwith]: (state, {payload}) => !state,\r\n}, initialState);\r\n\r\nexport const loginShowSelector = state => state[REDUCER_NAME];","import {handleActions, createAction} from \"redux-actions\";\r\nimport {testLogin, testPass} from \"./testLoginPass\";\r\n\r\nconst SET_LOGIN = \"LOGIN_INPUT/SET_LOGIN\";\r\nconst SET_PAROL = \"LOGIN_INPUT/ET_PAROL\";\r\nconst CLEAR_PASS = \"LOGIN_INPUT/CLEAR_PASS\"\r\n\r\nconst REDUCER_NAME = \"loginInput\";\r\n\r\nexport const setLogin = createAction(SET_LOGIN);\r\nexport const setParol = createAction(SET_PAROL);\r\nexport const clearPass = createAction(CLEAR_PASS);\r\n\r\nconst initialState = { login : testLogin || \"\" , pass : testPass || \"\" };\r\nconst clear = { login : \"\" , pass : \"\" }\r\n\r\nexport default handleActions({\r\n    [setLogin] : (state, { payload }) => ({ login : payload , pass : state.pass}),\r\n    [setParol] : (state, { payload }) => ({ login: state.login, pass: payload}),\r\n    [clearPass] : (state, { payload }) => (clear),\r\n}, initialState);\r\n\r\nexport const loginPassSelector = state => state[REDUCER_NAME];","export const testLogin = '175.com.ua@gmail.com';\r\nexport const testPass = 'Ww9TArkV!dndv53';","import {handleActions, createAction} from \"redux-actions\";\r\n\r\nexport const SET_ISNTLOGIN = \"LOGIN_VRM/SET_ISNTLOGIN\";\r\nexport const SET_TOKEN = \"LOGIN_VRM/SET_TOKEN\";\r\n// const SET_ISLOGIN = \"LOGIN_VRM/SET_ISLOGIN\";\r\n\r\nconst REDUCER_NAME = \"loginVRM\";\r\n\r\nexport const setIsntLogin = createAction(SET_ISNTLOGIN);\r\nexport const setToken = createAction(SET_TOKEN);\r\n\r\n\r\nconst initialState = {islogin: false, username: \"\", idUser: null, headerWithToken: {} };\r\n\r\n\r\nexport default handleActions({\r\n    [setIsntLogin] : (state, { payload }) =>  initialState,\r\n    [setToken] : (state, { payload }) => payload,\r\n}, initialState);\r\n\r\nexport const isLoginSelector = state => state[REDUCER_NAME];","import {handleActions, createAction} from \"redux-actions\";\r\n\r\nexport const SET_INSTALLATIONS = \"INSTALLATIONS_VRM/SET_INSTALLATIONS\";\r\n\r\nconst REDUCER_NAME = \"installationsVRM\";\r\n\r\nexport const setInstallations = createAction(SET_INSTALLATIONS);\r\n\r\n\r\nconst initialState = {data: {success: false}};\r\n\r\n\r\nexport default handleActions({\r\n    [setInstallations] : (state, { payload }) => payload ,\r\n}, initialState);\r\n\r\nexport const installationsSelector = state => state[REDUCER_NAME];","import {handleActions, createAction} from \"redux-actions\";\r\n\r\nexport const SET_DATA = \"INSTALLATIONS_OBJECT_DATA/SET_DATA\";\r\n\r\nconst REDUCER_NAME = \"installationsObjectData\";\r\n\r\nexport const setInstallationObjectData = createAction(SET_DATA);\r\n\r\nconst initialState = {};\r\n\r\nexport default handleActions({\r\n    [setInstallationObjectData] : (state, { payload }) => payload,\r\n}, initialState);\r\n\r\nexport const instDataObjectSelector = state => state[REDUCER_NAME];","import axios from \"axios\";\r\nimport React from \"react\";\r\n// import PropTypes from \"prop-types\";\r\nimport { setToken } from \"../reducers/loginVRM\";\r\nimport { setInstallations } from \"../reducers/installationsVRM\";\r\nimport { setInstallationObjectData } from \"../reducers/installationsObjectData\";\r\nimport { setSwith as showLogin } from \"../reducers/loginField\";\r\nimport { loginPassSelector } from \"../reducers/loginInput\";\r\nimport { store } from \"../index.js\";\r\n\r\n\r\n//APIs\r\n\r\nconst targetUrl = \"https://vrmapi.victronenergy.com\";\r\nconst authApi = \"/v2/auth/login\";\r\n\r\nexport function formInstallationsApi(idUser){\r\n    return `${targetUrl}/v2/users/${idUser}/installations?extended=1`;\r\n}\r\n\r\nfunction formInstallationOwerviewApi(idSite){\r\n    return `${targetUrl}/v2/installations/${idSite}/system-overview`;\r\n}\r\n\r\n\r\nexport const getInstallations = FormRequestToVRM(formInstallationsApi);\r\n\r\nexport const getInstallationData = FormRequestToVRM(formInstallationOwerviewApi)\r\n\r\n\r\nfunction FormRequestToVRM(formURL) {\r\n    return (urlKey, headerWithToken) => {\r\n        return new Promise((resolve, reject) => {\r\n            axios({\r\n                method:'get',\r\n                url: formURL(urlKey),\r\n                headers: headerWithToken\r\n            })\r\n            .then((responce) => {\r\n                resolve(responce);\r\n            })\r\n            .catch((err) => {\r\n                reject(err);\r\n            })\r\n        });\r\n    };\r\n};\r\n\r\n\r\nexport function getLoginRequest() { //loginPass_1, setToken_1, showLogin_1, setInstallations_1, setInstallationObjectData_1){\r\n    const loginPass = loginPassSelector(store.getState());\r\n    // console.log(loginPass);\r\n    return new Promise((resolve, reject) => {\r\n        axios({\r\n            method:'post',\r\n            url: targetUrl + authApi,\r\n            data: `{\"username\": \"${loginPass.login}\", \"password\": \"${loginPass.pass}\"}`\r\n        })\r\n        .then(response => {\r\n            if (response.status === 200){\r\n                const headerWithToken = {'X-Authorization' : 'Bearer ' + response.data.token};\r\n                const idUser = response.data.idUser;\r\n                // showLogin();\r\n                store.dispatch(showLogin());\r\n                const isLogin = {islogin: true, username: loginPass.login, idUser: idUser, headerWithToken};\r\n                getInstallations(isLogin.idUser, isLogin.headerWithToken).then((responce) => {\r\n                    // setToken(isLogin);\r\n                    store.dispatch(setToken(isLogin));\r\n                    // setInstallations(responce);\r\n                    store.dispatch(setInstallations(responce));\r\n                    if (responce.data && responce.data.records) {\r\n                        CreateInstallationsDataObject(responce);\r\n                    }\r\n                });\r\n                resolve(true);\r\n        }})\r\n        .catch(function(err){\r\n            console.log(`login error: ${err}`);\r\n            return null;\r\n        });\r\n    });\r\n};\r\n\r\n\r\n\r\nexport function CreateInstallationsDataObject(installationResponce) { //, setInstallationObjectData_1) {\r\n    const newDataObj = {};\r\n    installationResponce.data.records.map((e) => {\r\n        const params = {siteName: e.name};\r\n        e.extended.map((data) => {\r\n            params[data.idDataAttribute || data.code] = { name: data.description, value: data.formattedValue}\r\n        });\r\n        newDataObj[e.idSite] = params;\r\n    })\r\n    // setInstallationObjectData(newDataObj);\r\n    store.dispatch(setInstallationObjectData(newDataObj));\r\n    return newDataObj;\r\n};\r\n\r\n\r\nexport let updateTimerId = null;\r\n\r\nexport function updateInstallations(isLogin, setInstallations, setInstObj, time=10000){\r\n    updateTimerId = setTimeout(() => {\r\n        updateTimerId = setInterval(() => {\r\n            if (isLogin.islogin) {\r\n                getInstallations (isLogin.idUser, isLogin.headerWithToken).then((responce) => {\r\n                    // console.log(\"--- Auto request ---\");\r\n                    setInstallations(responce);\r\n                    if (setInstObj) {\r\n                        CreateInstallationsDataObject(responce, setInstObj);\r\n                    }\r\n\r\n                });\r\n            }\r\n        }, time);\r\n    }, time);\r\n};\r\n\r\n\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { getLoginRequest,  } from \"../containers/apiVRM\";\r\nimport { Button, Input, TextField, InputAdornment } from \"@material-ui/core\";\r\n// import AccountCircle from \"@material-ui/icons/AccountCircle\";\r\n\r\n\r\nconst loginPlaceholder = \"login or email:\";\r\nconst parolPlaceholder = \"password\";\r\nconst buttonText = \"Login\"\r\n\r\n\r\nconst passInput = React.createRef();\r\n\r\nconst LoginField = ({ isActive, onChangeLogin, onChangeParol, \r\n    loginPass }) => {\r\n    if (!isActive) {\r\n        return null;\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                <TextField\r\n                // InputProps={{startAdornment: (\r\n                //     <InputAdornment position=\"start\">\r\n                //         <AccountCircle />\r\n                //     </InputAdornment>\r\n                // )}}\r\n                autoFocus = {true}\r\n                // name={loginPlaceholder} \r\n                placeholder={loginPlaceholder} \r\n                onChange={({target: { value }}) => console.log(value) || onChangeLogin(value)} \r\n                onKeyDown={ e => {\r\n                    if (e.keyCode === 13) {\r\n                        passInput.current.focus();\r\n                    }\r\n                }}\r\n                value={loginPass.login} />\r\n            </div>\r\n           <div>\r\n                <TextField\r\n                inputRef = {passInput}\r\n                type=\"password\"\r\n                // label={parolPlaceholder}\r\n                placeholder={parolPlaceholder}\r\n                onChange={({target: { value }}) => onChangeParol(value)}\r\n                onKeyDown={ e => {\r\n                    if (e.keyCode === 13) {\r\n                        getLoginRequest()\r\n                    }\r\n                }} \r\n                value={loginPass.pass} />\r\n           </div>\r\n            <div>\r\n                <Button\r\n                color=\"primary\"\r\n                onClick={() => getLoginRequest() }\r\n                >{buttonText}</Button>\r\n            </div>   \r\n        </div>\r\n    );\r\n};\r\n\r\nLoginField.propTypes = {\r\n    isActive: PropTypes.bool,\r\n    onChange: PropTypes.func,\r\n    loginPass: PropTypes.object,\r\n    toLogin: PropTypes.func\r\n};\r\n\r\nexport default LoginField;\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\n\r\n\r\nconst ShowOnLogin = ({ isLogin, logout }) => {\r\n    if (isLogin.islogin) {\r\n        return (\r\n            <div>\r\n                <div>\r\n                    {isLogin.username}\r\n                </div>\r\n                <div>\r\n                    <Button color=\"secondary\" onClick={logout}>Exit</Button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    return null;\r\n};\r\n\r\nexport default ShowOnLogin;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { loginShowSelector, setSwith } from \"../reducers/loginField\";\r\nimport { loginPassSelector, setLogin, setParol} from \"../reducers/loginInput\";\r\nimport { setIsntLogin, setToken, isLoginSelector } from \"../reducers/loginVRM\";\r\nimport { setInstallations } from \"../reducers/installationsVRM\";\r\nimport LoginField from \"../components/login-field\";\r\nimport ShowOnLogin from \"../components/showOnlogin\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { setInstallationObjectData } from \"../reducers/installationsObjectData\";\r\n\r\n\r\n\r\nclass Login extends React.Component {\r\n    render() {\r\n        const { showLogin, isActive, onChangeLogin, \r\n            onChangeParol, loginPass, isLogin, logout } = this.props; \r\n        return(\r\n            <div className=\"login\">\r\n                <div>\r\n                    <Button color=\"secondary\" onClick={() => showLogin(isActive)}>Login</Button>\r\n                </div>\r\n                <LoginField \r\n                isActive={isActive}\r\n                onChangeLogin={onChangeLogin}\r\n                onChangeParol={onChangeParol}\r\n                loginPass={loginPass}\r\n                />\r\n                <div>\r\n                    <ShowOnLogin \r\n                    isLogin={isLogin}\r\n                    logout={logout} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nLogin.propTypes ={\r\n    showLogin: PropTypes.func,\r\n    isActive: PropTypes.bool,\r\n    onChangeLogin: PropTypes.func,\r\n    onChangeParol: PropTypes.func,\r\n    loginPass: PropTypes.object,\r\n    isLogin: PropTypes.object,\r\n    logout: PropTypes.func,\r\n    setInstallationObjectData: PropTypes.func,\r\n}\r\n\r\nconst mapDispatchToProps = ({\r\n    showLogin: setSwith,\r\n    onChangeLogin: setLogin,\r\n    onChangeParol: setParol,\r\n    logout: setIsntLogin,\r\n    setInstallationObjectData: setInstallationObjectData,\r\n\r\n});\r\n\r\nconst mapStateToProps = state => ({\r\n    isActive: loginShowSelector(state),\r\n    loginPass: loginPassSelector(state),\r\n    isLogin: isLoginSelector(state)\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { getInstallationData } from \"../containers/apiVRM\";\r\n// import { TextField } from \"@material-ui/core\";\r\n\r\n\r\nconst buttonText = (site) => {\r\n    const date = new Date(site.last_timestamp * 1000);\r\n    const year = date.getFullYear();\r\n    const month = ((date.getMonth()+1) > 9)? date.getMonth() + 1: \"0\" + (date.getMonth() + 1);\r\n    const day = (date.getDate() > 9)? date.getDate(): \"0\" + date.getDate();\r\n    const hour = (date.getHours() > 9)? date.getHours(): \"0\" + date.getHours();\r\n    const minute = (date.getMinutes() > 9)? date.getMinutes(): \"0\" + date.getMinutes();\r\n\r\n    if (site.alarm === true ) {\r\n        return `${site.name} ( last connect: ${hour}:${minute} ${day}.${month}.${year} ) !alarm!`;\r\n    }\r\n    return `${site.name} ( last connect: ${hour}:${minute} ${day}.${month}.${year} )`;\r\n};\r\n    \r\nconst dataFilterParams = [143, 215];\r\nconst dataFilterEnergie = [\"consumption\", \"solar_yield\", \"from_to_grid\"];\r\n\r\nconst SmallSiteData = ({ extended }) => {\r\n    const params = extended.filter(elem => (dataFilterParams.indexOf(elem.idDataAttribute) !== -1));\r\n    // console.log(extended);\r\n    const energie = (extended.filter(elem => (dataFilterEnergie.indexOf(elem.code) !== -1)));\r\n    // console.log(energie);\r\n    const data = params.concat(energie);\r\n    // console.log(data);\r\n    return (\r\n        <div className=\"small-site-data\">\r\n            {data.map((data) => (\r\n                <div key={data.idDataAttribute || data.code}>{data.description} {data.formattedValue}</div>\r\n                // <TextField type=\"checkbox\" key={data.idDataAttribute} />\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ButtonForSite = ({ site, selectInst, selectedInst, isLogin }) => {\r\n    if (site.idSite === selectedInst) {\r\n        return (\r\n            <div> \r\n            <Button\r\n                color=\"primary\"\r\n                disabled\r\n            >{buttonText(site)}</Button>\r\n            <SmallSiteData\r\n            extended={site.extended} />\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <div>\r\n        <Button\r\n            color=\"primary\" \r\n            onClick={() => {\r\n                selectInst(site.idSite);\r\n                // getInstallationData(site.idSite, isLogin.headerWithToken).then((responce) => {\r\n                //     const data = {}\r\n                //     // console.log(responce);\r\n                //     data[site.idSite] = responce;\r\n                // })\r\n            }}\r\n        >{buttonText(site)}</Button>\r\n        <SmallSiteData\r\n        extended={site.extended} />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst InstallationList = ({ installationResponce, selectInst, selectedInst, isLogin }) => {\r\n    if (installationResponce){\r\n        if (installationResponce.data.success) {\r\n            return (\r\n                <div className=\"installation-menu\">\r\n                {installationResponce.data.records.map((site) => (\r\n                    <div key={site.idSite}>\r\n                        <ButtonForSite\r\n                        site={site}\r\n                        selectInst={selectInst}\r\n                        selectedInst={selectedInst}\r\n                        isLogin={isLogin} />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n                \r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>Can`t receive installations list</div>\r\n    );\r\n};\r\n\r\nexport default InstallationList;","\r\nimport { handleActions, createAction} from \"redux-actions\";\r\n\r\n\r\nconst SET_INST = 'SELECTED_INST/SET_INST';\r\n\r\nconst REDUCER_NAME = 'selectedInst';\r\n\r\nexport const setInst = createAction(SET_INST);\r\n\r\nconst initialState = null;\r\n\r\nexport default handleActions({\r\n    [setInst]: (state, {payload}) => (payload),\r\n}, initialState);\r\n\r\nexport const installationSelector = state => state[REDUCER_NAME];","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { installationSelector } from \"../reducers/selectedInst\";\r\nimport { installationsSelector } from \"../reducers/installationsVRM\";\r\n\r\n// function FilterIdSite(props) {\r\n//     const { id, instData } = props;\r\n//     console.log(instData);\r\n//     const choosenSite = JSON.stringify(instData.data.records);\r\n//     return (\r\n//         <div>\r\n//             {choosenSite}\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n\r\nclass InstallationDetail extends React.Component {\r\n    render(){\r\n        const { id, instData } = this.props;\r\n        // console.log(instData);\r\n        if (instData.data.success) {\r\n            return (\r\n                <div className='installation-details'>\r\n                    {/* <FilterIdSite\r\n                    id={id}\r\n                    instData={instData}\r\n                    /> */}\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    };\r\n};\r\n\r\nInstallationDetail.propTypes = {\r\n    id: PropTypes.number,\r\n    instData: PropTypes.object\r\n\r\n};\r\n\r\n\r\nconst mapDispatchToProps = ({\r\n\r\n});\r\n\r\nconst mapStateToProps = state => ({\r\n    id: installationSelector(state),\r\n    instData: installationsSelector(state),\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(InstallationDetail);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { isLoginSelector } from \"../reducers/loginVRM\";\r\nimport InstallationList from \"../components/installations-list\";\r\nimport { setInst, installationSelector } from \"../reducers/selectedInst\";\r\nimport InstallationDetails from \"./installationDetails\";\r\nimport { installationsSelector, setInstallations } from \"../reducers/installationsVRM\";\r\nimport { updateTimerId, updateInstallations } from \"./apiVRM\";\r\nimport { setInstallationObjectData } from \"../reducers/installationsObjectData\";\r\n\r\n\r\n\r\n\r\nclass Installations extends React.Component {\r\n    componentWillUnmount(){\r\n        clearInterval(updateTimerId);\r\n        clearTimeout(updateTimerId);\r\n    };\r\n\r\n    componentWillMount(){\r\n        updateInstallations(this.props.isLogin, this.props.setInstallations, this.props.setInstallationObjectData );\r\n    };\r\n\r\n    render(){\r\n        const { isLogin, installationResponce, selectInst, selectedInst } = this.props;\r\n\r\n        if (!isLogin.islogin) {\r\n            return (\r\n                <div className=\"inner-warning\">Please login first!</div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className=\"installations\">\r\n                <Redirect push to=\"/sites\" />\r\n                <InstallationList \r\n                installationResponce={installationResponce}\r\n                selectInst={selectInst} \r\n                selectedInst={selectedInst}\r\n                isLogin={isLogin} />\r\n                <InstallationDetails />\r\n            </div>\r\n        )\r\n        \r\n    };\r\n};\r\n\r\nInstallations.propTypes = {\r\n    isLogin: PropTypes.object,\r\n    installationResponce: PropTypes.object,\r\n    selectInst: PropTypes.func,\r\n    selectedInst: PropTypes.number,\r\n    setInstallations: PropTypes.func,\r\n    setInstallationObjectData: PropTypes.func,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    isLogin: isLoginSelector(state),\r\n    installationResponce: installationsSelector(state),\r\n    selectedInst: installationSelector(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    selectInst: setInst,\r\n    setInstallations: setInstallations, \r\n    setInstallationObjectData: setInstallationObjectData,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Installations);\r\n\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"@material-ui/core\";\r\n\r\n\r\n\r\nexport function MainMenu({ dashboards, hide, toggleHide, setDashboardId,\r\n    setDashboardName, clearNewDashboard }) {\r\n    if (hide) {\r\n        return (\r\n            <div className='main-menu-conteiner'>\r\n                <Button \r\n                color=\"primary\"\r\n                className=\"main-menu-button\"\r\n                onClick={toggleHide}>\r\n                    Menu\r\n                </Button>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <div\r\n        className='main-menu-conteiner'\r\n        onMouseLeave={toggleHide}>\r\n            <Button \r\n            color=\"primary\"\r\n            className=\"main-menu-button\"\r\n            onClick={toggleHide}>\r\n                hide menu\r\n            </Button>\r\n            <div className=\"main-menu\">\r\n                <Link \r\n                to=\"/sites\" \r\n                onClick={toggleHide}>\r\n                    <div className=\"main-menu-base-elem\">\r\n                        Go to main\r\n                    </div>\r\n                </Link>       \r\n                {dashboards.map( (dashboard, id) => {\r\n                    if (dashboard) {    \r\n                        return (\r\n                            <Link \r\n                            key={id}\r\n                            to={`/dashboards/?id=${dashboard.id}`} \r\n                            onClick={toggleHide}>\r\n                                <div className=\"main-menu-elem\">\r\n                                    {dashboard.name}\r\n                                </div>\r\n                            </Link>     \r\n                        );\r\n                    }\r\n                    return null;\r\n                })}\r\n                <Link \r\n                to=\"/newdashboard\" \r\n                onClick={() => {\r\n                    toggleHide();\r\n                    setDashboardId(dashboards.length);\r\n                    setDashboardName(`Dashboard #${dashboards.length}`);\r\n                    clearNewDashboard();\r\n                }}>\r\n                    <div className=\"main-menu-base-elem\">\r\n                        Create Dashboard\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n};","\r\nimport { handleActions, createAction} from \"redux-actions\";\r\n\r\n\r\nconst SET_COORD = 'MOUSE_COORD/SET_COORD';\r\n\r\nconst REDUCER_NAME = 'mouseCoordinates';\r\n\r\nexport const setCoord = createAction(SET_COORD);\r\n\r\nconst initialState = {in:true, X: 0, Y: 0, dragX: 0, dragY: 0};\r\n\r\nexport default handleActions({\r\n    [setCoord]: (state, { payload }) => {\r\n        const newState = Object.assign({}, state);\r\n        for (let key in payload) {\r\n            newState[key] = payload[key];\r\n        } \r\n        return newState;\r\n    },\r\n}, initialState);\r\n\r\nexport const mouseCoordSelector = state => state[REDUCER_NAME];","import { handleActions, createAction} from \"redux-actions\";\r\n\r\n\r\nconst SET_ELEMENT = 'NEW_ELEMENT/SET_ELEMENT';\r\nconst CLEAR_ELEMENT = 'NEW_ELEMENT/CLEAR_ELEMENT';\r\n\r\nconst REDUCER_NAME = 'newDashboardElement';\r\n\r\nexport const setElement = createAction(SET_ELEMENT);\r\nexport const clearElement = createAction(CLEAR_ELEMENT);\r\n\r\nexport const initialState = { idSite:\"-\", param: \"-\" };\r\n\r\nexport default handleActions({\r\n    [setElement]: (state, { payload }) => {\r\n        return(\r\n            { \r\n                idSite: payload.idSite || state.idSite, \r\n                param: payload.param || state.param, \r\n                name: (payload.name === \"\")? \"\" : payload.name || state.name,\r\n                paramName: payload.paramName || state.paramName,\r\n                value: payload.value || state.value\r\n            }\r\n            )},\r\n    [clearElement]: (state, { payload }) => initialState,\r\n}, initialState);\r\n\r\nexport const newElementSelector = state => state[REDUCER_NAME];","import React from \"react\";\r\nimport Close from \"@material-ui/icons/Close\";\r\n// import MoveIcon from \"@material-ui/icons/OpenWith\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport InfoIcon from \"@material-ui/icons/Info\";\r\nimport { Input, Button, TextField, Select, OutlinedInput, IconButton } from \"@material-ui/core\";\r\n\r\n\r\nexport default function ConstructorElement (props) {\r\n    const { element, setMouseCoordinate, setNewElement, deleteElement,\r\n        newDashboard, editElement, instDataObject, id } = props;\r\n    if (!element) {\r\n        return null;\r\n    }\r\n\r\n    return(\r\n        <div className=\"constructor-element\"\r\n        style={{position: 'absolute', left: element.X, top: element.Y}}\r\n        key={id}\r\n        onMouseMove={(ev) => {\r\n            setMouseCoordinate({\r\n                X: ev.clientX,\r\n                Y: ev.clientY - ev.currentTarget.parentElement.getBoundingClientRect().top\r\n            })\r\n        }}>\r\n            <div\r\n            style={{cursor: 'move'}}\r\n            classname='text-elem-dashboard-constructor-div'\r\n            onMouseDown={(ev) => {\r\n                if (ev.button === 0) {\r\n                    setMouseCoordinate({\r\n                        dragX: ev.clientX - ev.currentTarget.getBoundingClientRect().left,\r\n                        dragY: ev.clientY - ev.currentTarget.getBoundingClientRect().top\r\n                    });\r\n                    setNewElement(newDashboard[id].element);\r\n                    deleteElement(id);\r\n                }\r\n            }}\r\n            onDoubleClick={(ev) => {\r\n                const newName = prompt(\"Monitor name:\", element.element.name);\r\n            }}>\r\n                {`${element.element.name} : ${element.element.value}`}  \r\n            </div>\r\n            <div>\r\n                <IconButton\r\n                className='edit-elem-button'\r\n                onClick={() => {\r\n                    const newName = prompt(\"Monitor name:\", element.element.name);\r\n                    if (newName) {\r\n                        editElement({ id: id, element: { name: newName}})\r\n                    }\r\n                }}>\r\n                    <EditIcon />\r\n                </IconButton >\r\n            </div>\r\n            <div>\r\n                <IconButton \r\n                className='info-elem-button'\r\n                onClick={() => {\r\n                    console.log(element);\r\n                    alert(`\r\n                    monitor name: ${element.element.name}\r\n                    site: ${instDataObject[element.element.idSite].siteName}\r\n                    parameter: ${instDataObject[element.element.idSite][element.element.param].name}\r\n                    value example: ${instDataObject[element.element.idSite][element.element.param].value}`)}}>\r\n                    <InfoIcon />\r\n                </IconButton>\r\n            </div>\r\n            <div>\r\n                <IconButton \r\n                className='delete-elem-button'\r\n                onClick={() => {\r\n                    const confirm = window.confirm('Do You want delete element?');\r\n                    if (confirm) {\r\n                        deleteElement(id);\r\n                    }\r\n                }}>\r\n                    <Close />\r\n                </IconButton>\r\n            </div>   \r\n        </div>\r\n    );\r\n};","import React from \"react\";\r\nimport ConstructorElement from \"./constructorElement\";\r\n\r\n\r\n\r\n\r\nexport default function DashboardInConstructor({ newDashboard, editElement, deleteElement, \r\n    setMouseCoordinate, setNewElement, instDataObject }) {\r\nreturn (\r\n<div \r\nclassName=\"dashboard-in-constructor\">\r\n    <div className=\"constructor-help-text\">\r\n        <p>Choose site and parameter to add element.</p>\r\n        <p>To move element hold mouse button and drag.</p>\r\n    </div>\r\n    \r\n{newDashboard.map((elem, id) => {\r\n    if (elem.delete) {\r\n        return null\r\n    }\r\n    \r\n    return (\r\n        <ConstructorElement\r\n        element={elem}\r\n        setMouseCoordinate={setMouseCoordinate}\r\n        setNewElement={setNewElement}\r\n        deleteElement={deleteElement}\r\n        newDashboard={newDashboard}\r\n        editElement={editElement}\r\n        instDataObject={instDataObject}\r\n        id={id}\r\n        key={id} />\r\n    \r\n    )\r\n})}\r\n</div>\r\n)\r\n};","import { handleActions, createAction} from \"redux-actions\";\r\n\r\n\r\nconst SET_DASHBOARD_ELEMENT = 'NEW_DASHBOARD/SET_DASHBOARD_ELEMENT';\r\nconst SET_DASHBOARD = 'NEW_DASHBOARD/SET_DASHBOARD';\r\nconst EDIT_DASHBOARD_ELEMENT = 'NEW_DASHBOARD/EDIT_DASHBOARD_ELEMENT';\r\nconst DELETE_DASHBOARD_ELEMENT = 'NEW_DASHBOARD/DELETE_DASHBOARD_ELEMENT';\r\nconst CLEAR_DASHBOARD = 'NEW_DASHBOARD/CLEAR_DASHBOARD';\r\n\r\nconst REDUCER_NAME = 'newDashboard';\r\n\r\nexport const setElemToNewDashboard = createAction(SET_DASHBOARD_ELEMENT);\r\nexport const setNewDashboard = createAction(SET_DASHBOARD);\r\nexport const editElemInNewDashboard = createAction(EDIT_DASHBOARD_ELEMENT);\r\nexport const deleteElemInNewDashboard = createAction(DELETE_DASHBOARD_ELEMENT);\r\nexport const clearNewDashboard = createAction(CLEAR_DASHBOARD);\r\n\r\nconst initialState = [];\r\n\r\nexport default handleActions({\r\n    [setElemToNewDashboard]: (state, { payload }) => [...state, payload],\r\n    [setNewDashboard]: (state, { payload }) => payload,\r\n    [clearNewDashboard]: (state, { payload }) => initialState,\r\n    [editElemInNewDashboard]: (state, { payload }) => {\r\n        let newState = [...state];\r\n        for (let key in payload.element) {\r\n            newState[payload.id].element[key] = payload.element[key];\r\n        }\r\n        return newState;\r\n    },\r\n    [deleteElemInNewDashboard]: (state, { payload }) => {\r\n        let newState = [...state];\r\n        newState[payload].delete = true;\r\n        return newState;\r\n    },\r\n}, initialState);\r\n\r\nexport const newDashboardSelector = state => state[REDUCER_NAME];","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n// import { Redirect } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport { mouseCoordSelector, setCoord } from \"../reducers/mouseCoordinates\";\r\n// import { isLoginSelector } from \"../reducers/loginVRM\";\r\n// import { Input, Button, TextField, Select, OutlinedInput, IconButton } from \"@material-ui/core\";\r\n// import { installationsSelector } from \"../reducers/installationsVRM\";\r\nimport { setElement, newElementSelector, clearElement, initialState as newElementInitialState } from \"../reducers/newDashboardElement\";\r\n// import { CreateInstallationsDataObject } from \"./apiVRM\";\r\n// import ConstructorElement from \"./constructorElement\";\r\nimport DashboardInConstructor from \"../components/dashboardInConstructor\";\r\n\r\nimport { newDashboardSelector, setElemToNewDashboard, editElemInNewDashboard, deleteElemInNewDashboard, clearNewDashboard, setNewDashboard } from \"../reducers/newDashboard\";\r\n// import { dashboardsSelector, setDashboard } from \"../reducers/dashboards\";\r\n// import { dashboardNameSelector, setDashboardName } from \"../reducers/dashboardName\";\r\n// import { dashboardIdSelector, setDashboardId } from \"../reducers/dashboardId\";\r\n// import Close from \"@material-ui/icons/Close\";\r\n// import MoveIcon from \"@material-ui/icons/OpenWith\";\r\n// import EditIcon from \"@material-ui/icons/Edit\";\r\n// import { instDataObjectSelector } from \"../reducers/installationsObjectData\";\r\n// import queryString from \"query-string\";\r\n\r\n\r\n\r\nfunction LevitateElement({ newElement, coord, setToNewDashboard, clearElement, setMouseCoordinate }) {\r\n    if (!coord.in && !coord.dragX && !coord.dragY) {\r\n        return null;\r\n    }\r\n    if (coord.Y < 0) {\r\n        return null;\r\n    }\r\n    if (newElement === newElementInitialState) {\r\n        return null;\r\n    }\r\n    return (\r\n        <div\r\n        className=\"levitate-element-div\"\r\n        style={{\r\n            position: 'absolute', \r\n            left: `${coord.X - coord.dragX}px`, \r\n            top: `${coord.Y - coord.dragY}px`,\r\n            }}\r\n            // onClick={(ev) => {\r\n            //     console.log(\"click\");\r\n            //     if ( newElement.idSite !== newElementInitialState.idSite \r\n            //         && newElement.param !== newElementInitialState.param ) {\r\n            //         setToNewDashboard({element: newElement, X: coord.X, Y: coord.Y});\r\n            //         clearElement();\r\n            //     }}}\r\n            onMouseUp={(ev) => {\r\n                if ( newElement.idSite !== newElementInitialState.idSite \r\n                    && newElement.param !== newElementInitialState.param ) {\r\n                    setToNewDashboard({element: newElement, X: coord.X - coord.dragX, Y: coord.Y - coord.dragY});\r\n                    clearElement();\r\n                }\r\n                // console.log(\"mouseup\");\r\n                setMouseCoordinate({ dragX: 0, dragY: 0 });\r\n            }} >\r\n                {newElement.name || \"choose monitor\"} : {newElement.value || \"\"}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nclass ConstructorField extends React.Component {\r\n    componentDidUpdate(){\r\n        // console.log(\"--- ConsructorField did update ---\");\r\n    }\r\n    render(){\r\n        const { setMouseCoordinate, coord, newElement, setToNewDashboard, clearElement } = this.props;\r\n        return (\r\n            <div \r\n            className=\"constructor-field\"\r\n            style={{position: 'absolute', \r\n                        // height: '-webkit-fill-available',\r\n                        top: '0',\r\n                        bottom: '0',\r\n                        width: '100%', \r\n                        }} \r\n            onMouseMove={(ev) => {\r\n                setMouseCoordinate({ \r\n                    in: true,\r\n                    X: ev.clientX - ev.currentTarget.getBoundingClientRect().left,\r\n                    Y: ev.clientY - ev.currentTarget.getBoundingClientRect().top});\r\n                    // console.log(coord);\r\n                }\r\n            }\r\n            onMouseEnter={(ev) => {\r\n                setMouseCoordinate({ in: true });\r\n            }}\r\n            onMouseLeave={(ev) => {\r\n                setMouseCoordinate({ \r\n                    in: false, \r\n                    X: ev.clientX, \r\n                    Y: ev.clientY - ev.currentTarget.getBoundingClientRect().top});\r\n            }}\r\n            // onClick={(ev) => console.log(\"--- ConstructorField Click ---\")}\r\n            >\r\n\r\n            <LevitateElement\r\n            setMouseCoordinate={setMouseCoordinate}\r\n            coord={coord}\r\n            newElement={newElement}\r\n            setToNewDashboard={setToNewDashboard}\r\n            clearElement={clearElement} />    \r\n            </div>\r\n        );\r\n    };\r\n};\r\n\r\nConstructorField.propTypes = {\r\n    coord: PropTypes.object,\r\n    setMouseCoordinate:PropTypes.func,\r\n    newElement: PropTypes.object,\r\n    setToNewDashboard: PropTypes.func,\r\n    clearElement: PropTypes.func,\r\n\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    coord: mouseCoordSelector(state),\r\n    newElement: newElementSelector(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    setMouseCoordinate: setCoord,\r\n    setToNewDashboard: setElemToNewDashboard,\r\n    clearElement: clearElement,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ConstructorField);\r\n\r\n","import { handleActions, createAction} from \"redux-actions\";\r\n\r\n\r\nexport const SET_DASHBOARD = 'DASHBOARDS/SET_DASHBOARD';\r\nconst LOAD_DASHBOARDS = 'DASHBOARDS/LOAD_DASHBOARDS';\r\nconst EDIT_DASHBOARD = 'DASHBOARDS/EDIT_DASHBOARD';\r\nconst DELETE_DASHBOARD = 'DASHBOARDS/DELETE_DASHBOARD';\r\n\r\nconst REDUCER_NAME = 'dashboards';\r\n\r\nexport const setDashboard = createAction(SET_DASHBOARD);\r\nexport const loadDashboards = createAction(LOAD_DASHBOARDS);\r\nexport const editDashboard = createAction(EDIT_DASHBOARD);\r\nexport const deleteDashboard = createAction(DELETE_DASHBOARD);\r\n\r\nconst initialState = [];\r\n\r\nexport default handleActions({\r\n    [setDashboard]: (state, { payload })  => {\r\n        let newState = [...state];\r\n        newState[payload.id] = {dashboard: payload.dashboard,\r\n        name: payload.name, id: payload.id};\r\n        return newState;\r\n    },\r\n    [loadDashboards]: (state, { payload }) => payload,\r\n    [deleteDashboard]: (state, { payload }) => {\r\n        let newState = [...state];\r\n        newState[payload] = \"\";\r\n        return newState;\r\n    },\r\n}, initialState);\r\n\r\nexport const dashboardsSelector = state => state[REDUCER_NAME];","import { handleActions, createAction } from \"redux-actions\";\r\n\r\nconst REDUCER_NAME = \"dashboardName\";\r\n\r\nconst SET_NAME = \"DASHBOARD_NAME/SET_NAME\";\r\nconst CLEAR_NAME = \"DASHBOARD_NAME/CLEAR_NAME\";\r\n\r\nexport const setDashboardName = createAction(SET_NAME);\r\nexport const clearDashboardName = createAction(CLEAR_NAME);\r\n\r\nconst initialState = \"newDashboard\";\r\n\r\nexport default handleActions({\r\n    [setDashboardName]: (state, { payload }) => payload,\r\n    [clearDashboardName]: (state, { payload }) => initialState,\r\n}, initialState);\r\n\r\nexport const dashboardNameSelector = state => state[REDUCER_NAME];","import { handleActions, createAction } from \"redux-actions\";\r\n\r\nconst REDUCER_NAME = \"dashboardId\";\r\n\r\nconst SET_ID = \"DASHBOARD_NAME/SET_ID\";\r\nconst CLEAR_ID = \"DASHBOARD_NAME/CLEAR_ID\";\r\n\r\nexport const setDashboardId = createAction(SET_ID);\r\nexport const clearDashboardId = createAction(CLEAR_ID);\r\n\r\nconst initialState = null;\r\n\r\nexport default handleActions({\r\n    [setDashboardId]: (state, { payload }) => payload,\r\n    [clearDashboardId]: (state, { payload }) => initialState,\r\n}, initialState);\r\n\r\nexport const dashboardIdSelector = state => state[REDUCER_NAME];    ","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n// import { Redirect } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport { mouseCoordSelector, setCoord } from \"../reducers/mouseCoordinates\";\r\nimport { isLoginSelector } from \"../reducers/loginVRM\";\r\nimport { Input, Button, TextField, Select, OutlinedInput, IconButton } from \"@material-ui/core\";\r\nimport { installationsSelector } from \"../reducers/installationsVRM\";\r\nimport { setElement, newElementSelector, clearElement, initialState as newElementInitialState } from \"../reducers/newDashboardElement\";\r\n// import { CreateInstallationsDataObject } from \"./apiVRM\";\r\n// import ConstructorElement from \"./constructorElement\";\r\nimport DashboardInConstructor from \"../components/dashboardInConstructor\";\r\nimport ConstructorField from \"./constructorField\";\r\n\r\nimport { newDashboardSelector, setElemToNewDashboard, editElemInNewDashboard, deleteElemInNewDashboard, clearNewDashboard, setNewDashboard } from \"../reducers/newDashboard\";\r\nimport { dashboardsSelector, setDashboard } from \"../reducers/dashboards\";\r\nimport { dashboardNameSelector, setDashboardName } from \"../reducers/dashboardName\";\r\nimport { dashboardIdSelector, setDashboardId } from \"../reducers/dashboardId\";\r\n// import Close from \"@material-ui/icons/Close\";\r\n// import MoveIcon from \"@material-ui/icons/OpenWith\";\r\n// import EditIcon from \"@material-ui/icons/Edit\";\r\nimport { instDataObjectSelector } from \"../reducers/installationsObjectData\";\r\nimport queryString from \"query-string\";\r\n\r\n\r\n\r\n\r\nconst elementTargetParamSet = (instDataObject, idSite) => {\r\n    const dataArray = [];\r\n    for (let key in instDataObject[idSite]) {\r\n        dataArray.push({ \r\n            id: key, \r\n            name: instDataObject[idSite][key].name, \r\n            value: instDataObject[idSite][key].value })\r\n    }\r\n    return dataArray;  \r\n};\r\n\r\n\r\n\r\nclass Constructor extends React.Component {\r\n    componentWillMount() {\r\n        const urlParam = queryString.parse(this.props.location.search);\r\n        // console.log(urlParam);\r\n        if (urlParam.id) {\r\n            this.props.setNewDashboard(this.props.dashboards[urlParam.id].dashboard);\r\n            this.props.setDashboardName(this.props.dashboards[urlParam.id].name);\r\n            this.props.setDashboardId(parseInt(urlParam.id));\r\n        } else {\r\n            this.props.setDashboardId(this.props.dashboards.length)\r\n            this.props.setDashboardName(`Dashboard #${this.props.dashboards.length}`)\r\n            this.props.clearNewDashboard();\r\n        }\r\n      \r\n    };\r\n    componentWillUnmount() {\r\n        this.props.setDashboardId(null);\r\n        this.props.clearNewDashboard();\r\n\r\n    };\r\n   render(){\r\n    const { setMouseCoordinate, isLogin, installationResponce, \r\n        setNewElement, newElement, newDashboard, setToNewDashboard, \r\n        editElement, deleteElement, clearElement, dashboards, setDashboard, \r\n        dashboardName, setDashboardName, dashboardId, setDashboardId, \r\n        instDataObject } = this.props;\r\n\r\n    // const sitesData = CreateInstallationsDataObject(installationResponce);\r\n\r\n    const SiteSelect = () => {\r\n        // console.log(\"--- site select update ---\");\r\n        return (\r\n        <Select \r\n            native \r\n            inputProps={{ style: { width: \"25\" } }} \r\n            input={<OutlinedInput />} \r\n            color=\"primary\" \r\n            name='site-select' \r\n            value={newElement.idSite} \r\n            onChange={({ target: { value } }) => {\r\n            if (value !== \"-\") {\r\n                setNewElement({\r\n                    idSite: value\r\n                });\r\n            }\r\n        } }>\r\n            <option key=\"null\" value=\"-\" hidden>Choose site</option>\r\n            {installationResponce.data.records.map((site) => (\r\n                    <option key={site.idSite} value={site.idSite}>{site.name}</option>\r\n                    ))}\r\n        </Select>);\r\n    };\r\n\r\n    const ParamSelect = () => (\r\n        <Select\r\n        native\r\n        inputProps={{style: {width: \"25\"}}}\r\n        input={<OutlinedInput />}\r\n        color=\"primary\" \r\n        name='param-select' \r\n        value={newElement.param} \r\n        onChange={({target: { value }}) => {\r\n            if (newElement.idSite !== newElementInitialState.idSite && value !== newElementInitialState.param) {\r\n                setNewElement({\r\n                    param: value, \r\n                    paramName: instDataObject[newElement.idSite][value].name,\r\n                    value: instDataObject[newElement.idSite][value].value,\r\n                    name: instDataObject[newElement.idSite][value].name\r\n                })\r\n            } \r\n        }}>\r\n            <option key=\"null\" value=\"-\" hidden>\r\n            {(newElement.idSite === newElementInitialState.idSite)? \r\n            \"Choose site first\" : \"Choose parameter\"}\r\n            </option>\r\n            \r\n            {elementTargetParamSet(instDataObject, newElement.idSite).map((e) => (\r\n                        <option key={e.id} value={e.id}>{e.name}</option>))}\r\n               \r\n        </Select>\r\n    );\r\n\r\n\r\n    if (!isLogin.islogin) {\r\n        return (\r\n            <div className=\"inner-warning\">Please login first!</div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div\r\n        className=\"constructor\" \r\n        style={{\r\n            // position: 'absolute',\r\n            // height: '-webkit-fill-available'\r\n            // top: '0',\r\n            // bottom: '0'\r\n            }}>\r\n            <div\r\n            className=\"element-select-div\"\r\n            style={{\r\n                width: \"100%\",\r\n                }}>\r\n                {(installationResponce.data && installationResponce.data.records)\r\n                ? (<SiteSelect />)\r\n                : (\r\n                    <div>Loading...</div>\r\n                )}\r\n                 {(installationResponce.data && installationResponce.data.records)\r\n                ? (<ParamSelect />)\r\n                : null\r\n                }\r\n                \r\n                <OutlinedInput \r\n                inputProps={{style: {width: \"-webkit-fill-available\"}}}\r\n                color=\"primary\"\r\n                placeholder={\"Edit parameter name\"}\r\n                value ={newElement.name}\r\n                onChange={({target: { value }}) => {\r\n                    // console.log(value);\r\n                    setNewElement({ \r\n                        name: value\r\n                    })\r\n                }} />\r\n            </div>\r\n            \r\n            <div \r\n            className=\"constructor-box\"\r\n            style={{\r\n                position: 'relative',\r\n                // height: '-webkit-fill-available'\r\n                height: '100vh'\r\n                }}>\r\n                <ConstructorField />\r\n                <DashboardInConstructor \r\n                newDashboard={newDashboard}\r\n                editElement={editElement}\r\n                deleteElement={deleteElement}\r\n                setMouseCoordinate={setMouseCoordinate}\r\n                setNewElement={setNewElement}\r\n                instDataObject={instDataObject}\r\n                 />\r\n                \r\n            </div>\r\n                           \r\n            <div style={{position: 'fixed', left: \"5px\", bottom: \"5px\", zIndex: \"100\"}}>\r\n                <TextField \r\n                color=\"primary\"\r\n                onChange={({ target: { value }}) => setDashboardName(value)}\r\n                value={dashboardName}\r\n                >\r\n                </TextField>\r\n                <Button\r\n                onClick={() => {\r\n                    // console.log(newDashboard);\r\n                    const filterNewDashboard = newDashboard.filter(\r\n                        elem => (elem.delete === false || elem.delete === undefined));\r\n                    // console.log(filterNewDashboard);\r\n                    setDashboard({ \r\n                        dashboard: filterNewDashboard, \r\n                        name: dashboardName, \r\n                        id: dashboardId});\r\n                }}\r\n                >Save dashboard</Button>\r\n            </div>\r\n        </div>\r\n    );\r\n   };\r\n};\r\n\r\nConstructor.propTypes = {\r\n    setMouseCoordinate:PropTypes.func,\r\n    isLogin: PropTypes.object,\r\n    installationResponce: PropTypes.object,\r\n    setNewElement: PropTypes.func,\r\n    newElement: PropTypes.object,\r\n    newDashboard: PropTypes.array,\r\n    setToNewDashboard: PropTypes.func,\r\n    editElement: PropTypes.func,\r\n    deleteElement: PropTypes.func,\r\n    clearElement: PropTypes.func,\r\n    dashboards: PropTypes.array,\r\n    setDashboard: PropTypes.func,\r\n    dashboardName: PropTypes.string,\r\n    setDashboardName: PropTypes.func,\r\n    dashboardId: PropTypes.number,\r\n    setDashboardId: PropTypes.func,\r\n    clearNewDashboard: PropTypes.func,\r\n    instDataObject: PropTypes.object,\r\n    setNewDashboard: PropTypes.func,\r\n\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    isLogin: isLoginSelector(state),\r\n    installationResponce: installationsSelector(state),\r\n    newElement: newElementSelector(state),\r\n    newDashboard: newDashboardSelector(state),\r\n    dashboards: dashboardsSelector(state),\r\n    dashboardName: dashboardNameSelector(state),\r\n    dashboardId: dashboardIdSelector(state),\r\n    instDataObject: instDataObjectSelector(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    setMouseCoordinate: setCoord,\r\n    setNewElement: setElement,\r\n    setToNewDashboard: setElemToNewDashboard,\r\n    editElement: editElemInNewDashboard,\r\n    deleteElement: deleteElemInNewDashboard,\r\n    clearElement: clearElement,\r\n    setDashboardName: setDashboardName,\r\n    setDashboardId: setDashboardId,\r\n    setDashboard: setDashboard,\r\n    clearNewDashboard: clearNewDashboard,\r\n    setNewDashboard: setNewDashboard,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Constructor);\r\n\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport {} from \"react-router\";\r\nimport { dashboardsSelector, deleteDashboard } from \"../reducers/dashboards\";\r\nimport { installationsSelector, setInstallations } from \"../reducers/installationsVRM\";\r\nimport { updateTimerId, updateInstallations } from \"./apiVRM\";\r\nimport { isLoginSelector } from \"../reducers/loginVRM\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { setInstallationObjectData, instDataObjectSelector } from \"../reducers/installationsObjectData\";\r\nimport queryString from \"query-string\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nclass Dashboard extends React.Component {\r\n    componentWillUnmount(){\r\n        clearInterval(updateTimerId);\r\n        clearTimeout(updateTimerId);\r\n    }\r\n    componentWillMount(){\r\n        updateInstallations(this.props.isLogin, this.props.setInstallations, \r\n            this.props.setInstallationObjectData);\r\n    };\r\n    render() {\r\n        const { dashboards, deleteDashboard, instDataObject } = this.props;\r\n        const target = queryString.parse(this.props.location.search);\r\n        if (!target.id || !dashboards[target.id]) {\r\n            return (dashboards.map( (dashboard, id) => {\r\n                if (dashboard) {    \r\n                    return (\r\n                        <Link \r\n                        key={id}\r\n                        to={`/dashboards/?id=${dashboard.id}`} >\r\n                            <div>\r\n                                {dashboard.name}\r\n                            </div>\r\n                        </Link>     \r\n                    );\r\n                }\r\n                return null;\r\n            }));\r\n        }\r\n        return(\r\n            <div style={{position: \"static\"}}>\r\n                <div className=\"dashboard\" style={{position: \"relative\"}}>\r\n                {dashboards[target.id].dashboard.map((elem, id) => {\r\n                    if (elem === \"\") {\r\n                        return null\r\n                    }\r\n                    return (\r\n                        <div\r\n                        key={id} \r\n                        style={{position: 'absolute', left: elem.X, top: elem.Y}} >\r\n                            {`${elem.element.name} : \r\n                            ${(instDataObject[elem.element.idSite] && instDataObject[elem.element.idSite][elem.element.param])\r\n                                ? instDataObject[elem.element.idSite][elem.element.param].value\r\n                                : \"---\"\r\n                            }`}\r\n                        </div>\r\n                    )})}  \r\n                </div>\r\n                <div style={{position: 'fixed', left: \"5px\", bottom: \"5px\"}}>\r\n                    <Button onClick={\r\n                        () => {\r\n                            this.props.history.push(`/newdashboard/?id=${target.id}`);\r\n                        }\r\n                    }>Change dashboard</Button>\r\n                    <Button onClick={() => {\r\n                        if (window.confirm(\"Do you really want to delete dashboard?\")) {\r\n                            deleteDashboard(target.id);\r\n                            this.props.history.push(\"/\");\r\n                        }\r\n                    }}>Delete dashboard</Button>\r\n                </div>\r\n            </div>  \r\n        );\r\n    };\r\n};\r\n\r\nDashboard.propTypes = {\r\n    dashboards: PropTypes.array,\r\n    installationsResponce: PropTypes.object,\r\n    isLogin: PropTypes.object,\r\n    setInstallations: PropTypes.func,\r\n    deleteDashboard: PropTypes.func,\r\n    setInstallationObjectData: PropTypes.func,\r\n    instDataObject: PropTypes.object,\r\n\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    dashboards: dashboardsSelector(state),\r\n    installationsResponce: installationsSelector(state),\r\n    isLogin: isLoginSelector(state),\r\n    instDataObject: instDataObjectSelector(state),\r\n});\r\n\r\nconst mapDispathToProps = {\r\n    setInstallations: setInstallations,\r\n    deleteDashboard: deleteDashboard,\r\n    setInstallationObjectData: setInstallationObjectData,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispathToProps)(Dashboard);","import { handleActions, createAction } from \"redux-actions\";\r\n\r\nconst REDUCER_NAME = \"hideMainMenu\";\r\n\r\nconst TOGGLE_MAIN_MENU = \"HIDE_MAIN_MENU/TOGGLE_MAIN_MENU\";\r\n\r\nexport const toggleMainMenu = createAction(TOGGLE_MAIN_MENU);\r\n\r\nconst initialState = true;\r\n\r\nexport default handleActions({\r\n    [toggleMainMenu]: (state, { payload }) => (state)? false : true,\r\n}, initialState);\r\n\r\nexport const hideMainMenuSelector = state => state[REDUCER_NAME];    ","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport { createMuiTheme } from '@material-ui/core';\r\nimport{ BrowserRouter, Switch, Route, Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Login from \"./containers/login\";\r\nimport Installations from './containers/installations';\r\nimport { orange, lightBlue, blue } from '@material-ui/core/colors';\r\n// import { getCookie } from './containers/cookieGetSet';\r\nimport { setToken } from './reducers/loginVRM';\r\nimport { setInstallations } from './reducers/installationsVRM';\r\nimport { MainMenu } from './components/mainMenu';\r\nimport Constructor from \"./containers/constructor\";\r\nimport { dashboardsSelector, loadDashboards } from './reducers/dashboards';\r\nimport Dashboard from './containers/dashboard';\r\nimport { hideMainMenuSelector, toggleMainMenu } from './reducers/hideMainMenu';\r\nimport { setInstallationObjectData } from './reducers/installationsObjectData';\r\nimport { setDashboardId } from './reducers/dashboardId';\r\nimport { setDashboardName } from './reducers/dashboardName';\r\nimport { clearNewDashboard } from './reducers/newDashboard';\r\n\r\n\r\n\r\nconst mainTheme = createMuiTheme({\r\n  palette: {\r\n    primary: lightBlue,\r\n    secondary: orange,\r\n  }\r\n});\r\n\r\nconst Page404 = () =>(\r\n  <div>\r\n    <h2>404 Error: Page not found</h2>\r\n    <Link to=\"/sites\">Go to main</Link>\r\n  </div>   \r\n  );\r\n\r\n\r\nclass App extends React.Component{\r\n\r\n  componentWillMount(){\r\n    const rawloginVRM = localStorage.getItem(\"loginVRM\");\r\n    const rawInst = localStorage.getItem(\"installationsVRM\");\r\n    const rawDashboards = localStorage.getItem(\"dashboards\");\r\n    const rawinstallationsObjectData = localStorage.getItem(\"installationsObjectData\");\r\n    // console.log(\"-- write to store from Local Storage --\");\r\n    if (rawloginVRM) this.props.setIsLogin(JSON.parse(rawloginVRM))   \r\n    if (rawInst) this.props.setInst(JSON.parse(rawInst))\r\n    if (rawDashboards) this.props.setDashboards(JSON.parse(rawDashboards))\r\n    if (rawinstallationsObjectData) this.props.setInstallationObjectData(JSON.parse(rawinstallationsObjectData))\r\n  };\r\n\r\n  render(){\r\n    const { dashboards, hideMainMenu, toggleHide, setDashboardId, setDashboardName, clearNewDashboard } = this.props;\r\n    return(\r\n      <ThemeProvider theme={mainTheme}>\r\n      <div className=\"app\">\r\n        <h1>\r\n          PV monitor\r\n        </h1>\r\n        <BrowserRouter basename=\"/PVM\">\r\n          <MainMenu\r\n          dashboards={dashboards}\r\n          toggleHide={toggleHide}\r\n          hide={hideMainMenu}\r\n          setDashboardId={setDashboardId}\r\n          setDashboardName={setDashboardName}\r\n          clearNewDashboard={clearNewDashboard} />\r\n          <Login />\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Installations} />\r\n            <Route path=\"/sites\" component={Installations} />\r\n            {/* {dashboards.map((dashboard, id) => {\r\n              if (dashboard !== \"\") {\r\n                return (\r\n                  <Route key={id} path={`/dashboards/${id}`} component={Dashboard}/>\r\n                )\r\n              }\r\n            })} */}\r\n            <Route path=\"/dashboards\" component={Dashboard} />\r\n            <Route path=\"/newdashboard\" component={Constructor} />\r\n            <Route component={Page404} />\r\n          </Switch>\r\n        </BrowserRouter>\r\n      </div>\r\n      </ThemeProvider>\r\n    )\r\n  }\r\n}\r\n\r\nApp.propTypes = {\r\n  setIsLogin: PropTypes.func,\r\n  setInst: PropTypes.func,\r\n  dashboards: PropTypes.array,\r\n  setDashboards: PropTypes.func,\r\n  hideMainMenu: PropTypes.bool,\r\n  toggleHide: PropTypes.func,\r\n  setInstallationObjectData: PropTypes.func,\r\n  setDashboardId: PropTypes.func,\r\n  setDashboardName: PropTypes.func,\r\n  clearNewDashboard: PropTypes.func,\r\n};\r\n\r\nconst mapDispatchtoProps = {\r\n  setIsLogin: setToken,\r\n  setInst: setInstallations,\r\n  setDashboards: loadDashboards,\r\n  toggleHide: toggleMainMenu,\r\n  setInstallationObjectData: setInstallationObjectData,\r\n  setDashboardId: setDashboardId,\r\n  setDashboardName: setDashboardName,\r\n  clearNewDashboard: clearNewDashboard,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  dashboards: dashboardsSelector(state),\r\n  hideMainMenu: hideMainMenuSelector(state),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchtoProps)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import loginField from \"./loginField\";\r\nimport loginInput from \"./loginInput\";\r\nimport loginVRM from \"./loginVRM\";\r\nimport installationsVRM from \"./installationsVRM\";\r\nimport selectedInst from \"./selectedInst\";\r\nimport installationsObjectData from \"./installationsObjectData\";\r\nimport mouseCoordinates from \"./mouseCoordinates\";\r\nimport newDashboardElement from \"./newDashboardElement\";\r\nimport newDashboard from \"./newDashboard\";\r\nimport dashboards from \"./dashboards\";\r\nimport dashboardName from \"./dashboardName\";\r\nimport dashboardId from \"./dashboardId\";\r\nimport hideMainMenu from \"./hideMainMenu\";\r\n\r\n\r\nexport const reducers = {\r\n    loginField,\r\n    loginInput,\r\n    loginVRM,\r\n    installationsVRM,\r\n    selectedInst,\r\n    installationsObjectData,\r\n    mouseCoordinates,\r\n    newDashboardElement,\r\n    newDashboard,\r\n    dashboards,\r\n    dashboardName,\r\n    dashboardId,\r\n    hideMainMenu,\r\n}","// import { setCookie } from \"../containers/cookieGetSet\";\r\nimport { setLocalStorage } from \"../containers/localStorageReadWrite\";\r\nimport { SET_INSTALLATIONS } from \"../reducers/installationsVRM\";\r\nimport { SET_ISNTLOGIN, SET_TOKEN } from \"../reducers/loginVRM\";\r\nimport { SET_DASHBOARD } from \"../reducers/dashboards\";\r\nimport { SET_DATA } from \"../reducers/installationsObjectData\";\r\n\r\nconst filterToLocalStorageLog = {\r\n    [SET_ISNTLOGIN]: \"loginVRM\",\r\n    [SET_TOKEN]: \"loginVRM\", \r\n    [SET_INSTALLATIONS]: \"installationsVRM\", \r\n    [SET_DATA]: \"installationsObjectData\",\r\n    [SET_DASHBOARD]: \"dashboards\"\r\n};\r\n\r\n\r\nconst actionsToLocalStorage = [SET_INSTALLATIONS, SET_ISNTLOGIN, SET_TOKEN, SET_DATA, SET_DASHBOARD];\r\n\r\nexport const  logToLocalStorage = state => next => action => {\r\n    const returnValue = next(action);\r\n    // console.log(action);\r\n    const newState = state.getState();\r\n    if (actionsToLocalStorage.indexOf(action.type) !== -1) {\r\n        // console.log(\"-- log state to Local Storage -- \");\r\n        setLocalStorage(filterToLocalStorageLog[action.type], \r\n            JSON.stringify(newState[filterToLocalStorageLog[action.type]]));\r\n            // console.log(\"Data to log: \", newState[filterToLocalStorageLog[action.type]]);\r\n    }\r\n    \r\n    return returnValue;\r\n}\r\n\r\n// const filterToCookieLog = [\"loginVRM\"];\r\n\r\n// export const  logToCookie = state => next => action => {\r\n//         const returnValue = next(action);\r\n//         const newState = state.getState();\r\n//         console.log('1: ', newState);\r\n//         // console.log('2: ', newState.loginVRM);\r\n//         filterToCookieLog.map((key) => {\r\n//             if (newState[key]) {\r\n//                 console.log(\"cookie tolog: \", newState[key]);\r\n//                 setCookie(key, JSON.stringify(newState[key]), {\"max-age\": 0});\r\n//             }\r\n//         })\r\n//         // console.log(document.cookie);\r\n//         return returnValue;\r\n// }\r\n\r\n\r\nconst createMiddlewares = () => [\r\n    // logToCookie,\r\n    logToLocalStorage\r\n]\r\n\r\nexport default createMiddlewares;","import React from \"react\";\r\n\r\nexport function setLocalStorage(key, value) {\r\n    const myStorage = localStorage;\r\n    myStorage.setItem(key, value);\r\n};","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport { configStore } from \"./store\";\r\nimport { reducers } from \"./reducers\"\r\nimport createMiddlewares from './store/middlewares';\r\n\r\n\r\nexport const store = configStore(reducers, createMiddlewares());\r\n\r\nconst RootComponent = () => {\r\n    return (\r\n        <Provider store={store}>\r\n            <App />\r\n        </Provider>\r\n    )\r\n}\r\n\r\nReactDOM.render(<RootComponent />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import { createStore , combineReducers, applyMiddleware } from \"redux\";\r\n\r\nexport const configStore = (reducers, middlewares) => {\r\n   return createStore(combineReducers(reducers), {}, applyMiddleware(...middlewares));\r\n};","module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";"],"sourceRoot":""}