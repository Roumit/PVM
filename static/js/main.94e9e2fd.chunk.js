(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,a){"use strict";a.r(t);var n,o,r=a(0),i=a.n(r),l=a(9),c=a.n(l),s=(a(97),a(18)),d=a(12),u=a(20),m=a(19),p=a(21),b=(a(98),a(99),a(170)),h=a(88),E=a(33),O=a(28),f=a(14),v=a(5),g=a(175),D=a(172),j=Object(g.a)("LOGIN_FIELD/SET_SWITH"),N=Object(D.a)(Object(v.a)({},j,function(e,t){t.payload;return!e}),!0),S=function(e){return e.loginField},y=Object(g.a)("LOGIN_INPUT/SET_LOGIN"),I=Object(g.a)("LOGIN_INPUT/ET_PAROL"),A=Object(g.a)("LOGIN_INPUT/CLEAR_PASS"),w={login:"175.com.ua@gmail.com",pass:"Ww9TArkV!dndv53"},C={login:"",pass:""},T=Object(D.a)((n={},Object(v.a)(n,y,function(e,t){return{login:t.payload,pass:e.pass}}),Object(v.a)(n,I,function(e,t){var a=t.payload;return{login:e.login,pass:a}}),Object(v.a)(n,A,function(e,t){t.payload;return C}),n),w),M=function(e){return e.loginInput},L=Object(g.a)("LOGIN_VRM/SET_ISNTLOGIN"),_=Object(g.a)("LOGIN_VRM/SET_TOKEN"),R={islogin:!1,username:"",idUser:null,headerWithToken:{}},k=Object(D.a)((o={},Object(v.a)(o,L,function(e,t){t.payload;return R}),Object(v.a)(o,_,function(e,t){return t.payload}),o),R),B=function(e){return e.loginVRM},H="INSTALLATIONS_VRM/SET_INSTALLATIONS",x=Object(g.a)(H),P=Object(D.a)(Object(v.a)({},x,function(e,t){return t.payload}),{data:{success:!1}}),W=function(e){return e.installationsVRM},Y=a(62),V=a.n(Y),X="INSTALLATIONS_OBJECT_DATA/SET_DATA",G=Object(g.a)(X),U=Object(D.a)(Object(v.a)({},G,function(e,t){return t.payload}),{}),J=function(e){return e.installationsObjectData},F="https://vrmapi.victronenergy.com",K="/v2/auth/login";var z=$(function(e){return"".concat(F,"/v2/users/").concat(e,"/installations?extended=1")});$(function(e){return"".concat(F,"/v2/installations/").concat(e,"/system-overview")});function $(e){return function(t,a){return new Promise(function(n,o){V()({method:"get",url:e(t),headers:a}).then(function(e){n(e)}).catch(function(e){o(e)})})}}function q(){var e=M(Ft.getState());return new Promise(function(t,a){V()({method:"post",url:F+K,data:'{"username": "'.concat(e.login,'", "password": "').concat(e.pass,'"}')}).then(function(a){if(200===a.status){var n={"X-Authorization":"Bearer "+a.data.token},o=a.data.idUser;Ft.dispatch(j());var r={islogin:!0,username:e.login,idUser:o,headerWithToken:n};z(r.idUser,r.headerWithToken).then(function(e){Ft.dispatch(_(r)),Ft.dispatch(x(e)),e.data&&e.data.records&&Q(e)}),t(!0)}}).catch(function(e){return console.log("login error: ".concat(e)),null})})}function Q(e){var t={};return e.data.records.map(function(e){var a={siteName:e.name};e.extended.map(function(e){a[e.idDataAttribute||e.code]={name:e.description,value:e.formattedValue}}),t[e.idSite]=a}),Ft.dispatch(G(t)),t}var Z=null;function ee(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;Z=setTimeout(function(){Z=setInterval(function(){e.islogin&&z(e.idUser,e.headerWithToken).then(function(e){t(e),a&&Q(e)})},n)},n)}var te=a(173),ae=a(166),ne=i.a.createRef(),oe=function(e){var t=e.isActive,a=e.onChangeLogin,n=e.onChangeParol,o=e.loginPass;return t?i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(te.a,{autoFocus:!0,placeholder:"login or email:",onChange:function(e){var t=e.target.value;return console.log(t)||a(t)},onKeyDown:function(e){13===e.keyCode&&ne.current.focus()},value:o.login})),i.a.createElement("div",null,i.a.createElement(te.a,{inputRef:ne,type:"password",placeholder:"password",onChange:function(e){var t=e.target.value;return n(t)},onKeyDown:function(e){13===e.keyCode&&q()},value:o.pass})),i.a.createElement("div",null,i.a.createElement(ae.a,{color:"primary",onClick:function(){return q()}},"Login"))):null},re=function(e){var t=e.isLogin,a=e.logout;return t.islogin?i.a.createElement("div",null,i.a.createElement("div",null,t.username),i.a.createElement("div",null,i.a.createElement(ae.a,{color:"secondary",onClick:a},"Exit"))):null},ie=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.showLogin,a=e.isActive,n=e.onChangeLogin,o=e.onChangeParol,r=e.loginPass,l=e.isLogin,c=e.logout;return i.a.createElement("div",{className:"login"},i.a.createElement("div",null,i.a.createElement(ae.a,{color:"secondary",onClick:function(){return t(a)}},"Login")),i.a.createElement(oe,{isActive:a,onChangeLogin:n,onChangeParol:o,loginPass:r}),i.a.createElement("div",null,i.a.createElement(re,{isLogin:l,logout:c})))}}]),t}(i.a.Component),le={showLogin:j,onChangeLogin:y,onChangeParol:I,logout:L,setInstallationObjectData:G},ce=Object(f.b)(function(e){return{isActive:S(e),loginPass:M(e),isLogin:B(e)}},le)(ie),se=function(e){var t=new Date(1e3*e.last_timestamp),a=t.getFullYear(),n=t.getMonth()+1>9?t.getMonth()+1:"0"+(t.getMonth()+1),o=t.getDate()>9?t.getDate():"0"+t.getDate(),r=t.getHours()>9?t.getHours():"0"+t.getHours(),i=t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes();return!0===e.alarm?"".concat(e.name," ( last connect: ").concat(r,":").concat(i," ").concat(o,".").concat(n,".").concat(a," ) !alarm!"):"".concat(e.name," ( last connect: ").concat(r,":").concat(i," ").concat(o,".").concat(n,".").concat(a," )")},de=[143,215],ue=["consumption","solar_yield","from_to_grid"],me=function(e){var t=e.extended,a=t.filter(function(e){return-1!==de.indexOf(e.idDataAttribute)}),n=t.filter(function(e){return-1!==ue.indexOf(e.code)}),o=a.concat(n);return i.a.createElement("div",{className:"small-site-data"},o.map(function(e){return i.a.createElement("div",{key:e.idDataAttribute||e.code},e.description," ",e.formattedValue)}))},pe=function(e){var t=e.site,a=e.selectInst,n=e.selectedInst;e.isLogin;return t.idSite===n?i.a.createElement("div",null,i.a.createElement(ae.a,{color:"primary",disabled:!0},se(t)),i.a.createElement(me,{extended:t.extended})):i.a.createElement("div",null,i.a.createElement(ae.a,{color:"primary",onClick:function(){a(t.idSite)}},se(t)),i.a.createElement(me,{extended:t.extended}))},be=function(e){var t=e.installationResponce,a=e.selectInst,n=e.selectedInst,o=e.isLogin;return t&&t.data.success?i.a.createElement("div",{className:"installation-menu"},t.data.records.map(function(e){return i.a.createElement("div",{key:e.idSite},i.a.createElement(pe,{site:e,selectInst:a,selectedInst:n,isLogin:o}))})):i.a.createElement("div",null,"Can`t receive installations list")},he=Object(g.a)("SELECTED_INST/SET_INST"),Ee=Object(D.a)(Object(v.a)({},he,function(e,t){return t.payload}),null),Oe=function(e){return e.selectedInst},fe=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props;e.id;return e.instData.data.success?i.a.createElement("div",{className:"installation-details"}):null}}]),t}(i.a.Component),ve=Object(f.b)(function(e){return{id:Oe(e),instData:W(e)}},{})(fe),ge=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(Z),clearTimeout(Z)}},{key:"componentWillMount",value:function(){ee(this.props.isLogin,this.props.setInstallations,this.props.setInstallationObjectData)}},{key:"render",value:function(){var e=this.props,t=e.isLogin,a=e.installationResponce,n=e.selectInst,o=e.selectedInst;return t.islogin?i.a.createElement("div",{className:"installations"},i.a.createElement(O.a,{push:!0,to:"/sites"}),i.a.createElement(be,{installationResponce:a,selectInst:n,selectedInst:o,isLogin:t}),i.a.createElement(ve,null)):i.a.createElement("div",{className:"inner-warning"},"Please login first!")}}]),t}(i.a.Component),De={selectInst:he,setInstallations:x,setInstallationObjectData:G},je=Object(f.b)(function(e){return{isLogin:B(e),installationResponce:W(e),selectedInst:Oe(e)}},De)(ge),Ne=a(168),Se=a(169);function ye(e){var t=e.dashboards,a=e.hide,n=e.toggleHide,o=e.setDashboardId,r=e.setDashboardName,l=e.clearNewDashboard;return a?i.a.createElement("div",null,i.a.createElement(ae.a,{color:"primary",className:"main-menu-button",onClick:n},"Menu")):i.a.createElement("div",{onMouseLeave:n},i.a.createElement(ae.a,{color:"primary",className:"main-menu-button",onClick:n},"hide menu"),i.a.createElement("div",{className:"main-menu"},i.a.createElement(E.b,{to:"/sites",onClick:n},i.a.createElement("div",{className:"main-menu-base-elem"},"Go to main")),t.map(function(e,t){return e?i.a.createElement(E.b,{key:t,to:"/dashboards/?id=".concat(e.id),onClick:n},i.a.createElement("div",{className:"main-menu-elem"},e.name)):null}),i.a.createElement(E.b,{to:"/newdashboard",onClick:function(){n(),o(t.length),r("Dashboard #".concat(t.length)),l()}},i.a.createElement("div",{className:"main-menu-base-elem"},"Create Dashboard"))))}var Ie,Ae=Object(g.a)("MOUSE_COORD/SET_COORD"),we=Object(D.a)(Object(v.a)({},Ae,function(e,t){var a=t.payload,n=Object.assign({},e);for(var o in a)n[o]=a[o];return n}),{in:!0,X:0,Y:0,dragX:0,dragY:0}),Ce=function(e){return e.mouseCoordinates},Te=a(171),Me=a(174),Le=Object(g.a)("NEW_ELEMENT/SET_ELEMENT"),_e=Object(g.a)("NEW_ELEMENT/CLEAR_ELEMENT"),Re={idSite:"-",param:"-"},ke=Object(D.a)((Ie={},Object(v.a)(Ie,Le,function(e,t){var a=t.payload;return{idSite:a.idSite||e.idSite,param:a.param||e.param,name:""===a.name?"":a.name||e.name,paramName:a.paramName||e.paramName,value:a.value||e.value}}),Object(v.a)(Ie,_e,function(e,t){t.payload;return Re}),Ie),Re),Be=function(e){return e.newDashboardElement},He=a(87),xe=a.n(He),Pe=a(85),We=a.n(Pe),Ye=a(86),Ve=a.n(Ye),Xe=a(167);function Ge(e){var t=e.element,a=e.setMouseCoordinate,n=e.setNewElement,o=e.deleteElement,r=e.newDashboard,l=e.editElement,c=e.instDataObject,s=e.id;return t?i.a.createElement("div",{className:"constructor-element",style:{position:"absolute",left:t.X,top:t.Y},key:s},i.a.createElement("div",{onMouseDown:function(e){a({dragX:e.clientX-e.currentTarget.getBoundingClientRect().left,dragY:e.clientY-e.currentTarget.getBoundingClientRect().top}),n(r[s].element),o(s)},onDoubleClick:function(e){prompt("Monitor name:",t.element.name)}},"".concat(t.element.name," : ").concat(t.element.value)),i.a.createElement("div",null,i.a.createElement(Xe.a,{className:"edit-elem-button",onClick:function(){var e=prompt("Monitor name:",t.element.name);e&&l({id:s,element:{name:e}})}},i.a.createElement(We.a,null))),i.a.createElement("div",null,i.a.createElement(Xe.a,{className:"info-elem-button",onClick:function(){console.log(t),alert("\n                    monitor name: ".concat(t.element.name,"\n                    site: ").concat(c[t.element.idSite].siteName,"\n                    parameter: ").concat(c[t.element.idSite][t.element.param].name,"\n                    value example: ").concat(c[t.element.idSite][t.element.param].value))}},i.a.createElement(Ve.a,null))),i.a.createElement("div",null,i.a.createElement(Xe.a,{className:"delete-elem-button",onClick:function(){window.confirm("Do You want delete element?")&&o(s)}},i.a.createElement(xe.a,null)))):null}function Ue(e){var t=e.newDashboard,a=e.editElement,n=e.deleteElement,o=e.setMouseCoordinate,r=e.setNewElement,l=e.instDataObject;return i.a.createElement("div",{className:"dashboard-in-constructor"},i.a.createElement("div",{className:"constructor-help-text"},i.a.createElement("p",null,"Choose site and parameter to add element."),i.a.createElement("p",null,"To move element hold mouse button and drag.")),t.map(function(e,c){return e.delete?null:i.a.createElement(Ge,{element:e,setMouseCoordinate:o,setNewElement:r,deleteElement:n,newDashboard:t,editElement:a,instDataObject:l,id:c,key:c})}))}var Je,Fe=a(29),Ke=Object(g.a)("NEW_DASHBOARD/SET_DASHBOARD_ELEMENT"),ze=Object(g.a)("NEW_DASHBOARD/SET_DASHBOARD"),$e=Object(g.a)("NEW_DASHBOARD/EDIT_DASHBOARD_ELEMENT"),qe=Object(g.a)("NEW_DASHBOARD/DELETE_DASHBOARD_ELEMENT"),Qe=Object(g.a)("NEW_DASHBOARD/CLEAR_DASHBOARD"),Ze=[],et=Object(D.a)((Je={},Object(v.a)(Je,Ke,function(e,t){var a=t.payload;return[].concat(Object(Fe.a)(e),[a])}),Object(v.a)(Je,ze,function(e,t){return t.payload}),Object(v.a)(Je,Qe,function(e,t){t.payload;return Ze}),Object(v.a)(Je,$e,function(e,t){var a=t.payload,n=Object(Fe.a)(e);for(var o in a.element)n[a.id].element[o]=a.element[o];return n}),Object(v.a)(Je,qe,function(e,t){var a=t.payload,n=Object(Fe.a)(e);return n[a].delete=!0,n}),Je),Ze),tt=function(e){return e.newDashboard};function at(e){var t=e.newElement,a=e.coord,n=e.setToNewDashboard,o=e.clearElement,r=e.setMouseCoordinate;return a.in||a.dragX||a.dragY?a.Y<0?null:t===Re?null:i.a.createElement("div",{className:"levitate-element-div",style:{position:"absolute",left:"".concat(a.X-a.dragX,"px"),top:"".concat(a.Y-a.dragY,"px")},onMouseUp:function(e){t.idSite!==Re.idSite&&t.param!==Re.param&&(n({element:t,X:a.X-a.dragX,Y:a.Y-a.dragY}),o()),r({dragX:0,dragY:0})}},t.name||"choose monitor"," : ",t.value||""):null}var nt,ot,rt,it=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.setMouseCoordinate,a=e.coord,n=e.newElement,o=e.setToNewDashboard,r=e.clearElement;return i.a.createElement("div",{className:"constructor-field",style:{position:"absolute",height:"100%",width:"100%",cursor:"crosshair"},onMouseMove:function(e){t({in:!0,X:e.clientX-e.currentTarget.getBoundingClientRect().left,Y:e.clientY-e.currentTarget.getBoundingClientRect().top})},onMouseEnter:function(e){t({in:!0})},onMouseLeave:function(e){t({in:!1,X:e.clientX,Y:e.clientY-e.currentTarget.getBoundingClientRect().top})}},i.a.createElement(at,{setMouseCoordinate:t,coord:a,newElement:n,setToNewDashboard:o,clearElement:r}))}}]),t}(i.a.Component),lt={setMouseCoordinate:Ae,setToNewDashboard:Ke,clearElement:_e},ct=Object(f.b)(function(e){return{coord:Ce(e),newElement:Be(e)}},lt)(it),st=Object(g.a)("DASHBOARDS/SET_DASHBOARD"),dt=Object(g.a)("DASHBOARDS/LOAD_DASHBOARDS"),ut=(Object(g.a)("DASHBOARDS/EDIT_DASHBOARD"),Object(g.a)("DASHBOARDS/DELETE_DASHBOARD")),mt=Object(D.a)((nt={},Object(v.a)(nt,st,function(e,t){var a=t.payload,n=Object(Fe.a)(e);return n[a.id]={dashboard:a.dashboard,name:a.name,id:a.id},n}),Object(v.a)(nt,dt,function(e,t){return t.payload}),Object(v.a)(nt,ut,function(e,t){var a=t.payload,n=Object(Fe.a)(e);return n[a]="",n}),nt),[]),pt=function(e){return e.dashboards},bt=Object(g.a)("DASHBOARD_NAME/SET_NAME"),ht=Object(g.a)("DASHBOARD_NAME/CLEAR_NAME"),Et=Object(D.a)((ot={},Object(v.a)(ot,bt,function(e,t){return t.payload}),Object(v.a)(ot,ht,function(e,t){t.payload;return"newDashboard"}),ot),"newDashboard"),Ot=function(e){return e.dashboardName},ft=Object(g.a)("DASHBOARD_NAME/SET_ID"),vt=Object(g.a)("DASHBOARD_NAME/CLEAR_ID"),gt=Object(D.a)((rt={},Object(v.a)(rt,ft,function(e,t){return t.payload}),Object(v.a)(rt,vt,function(e,t){t.payload;return null}),rt),null),Dt=function(e){return e.dashboardId},jt=a(58),Nt=a.n(jt),St=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=Nt.a.parse(this.props.location.search);console.log(e),e.id?(this.props.setNewDashboard(this.props.dashboards[e.id].dashboard),this.props.setDashboardName(this.props.dashboards[e.id].name),this.props.setDashboardId(parseInt(e.id))):(this.props.setDashboardId(this.props.dashboards.length),this.props.setDashboardName("Dashboard #".concat(this.props.dashboards.length)),this.props.clearNewDashboard())}},{key:"componentWillUnmount",value:function(){this.props.setDashboardId(null),this.props.clearNewDashboard()}},{key:"render",value:function(){var e=this.props,t=e.setMouseCoordinate,a=e.isLogin,n=e.installationResponce,o=e.setNewElement,r=e.newElement,l=e.newDashboard,c=(e.setToNewDashboard,e.editElement),s=e.deleteElement,d=(e.clearElement,e.dashboards,e.setDashboard),u=e.dashboardName,m=e.setDashboardName,p=e.dashboardId,b=(e.setDashboardId,e.instDataObject);return a.islogin?i.a.createElement("div",{className:"constructor",style:{position:"relative",height:"100%"}},i.a.createElement("div",{className:"element-select-div",style:{width:"100%"}},n.data&&n.data.records?i.a.createElement(function(){return i.a.createElement(Te.a,{native:!0,inputProps:{style:{width:"25"}},input:i.a.createElement(Me.a,null),color:"primary",name:"site-select",value:r.idSite,onChange:function(e){var t=e.target.value;"-"!==t&&o({idSite:t})}},i.a.createElement("option",{key:"null",value:"-",hidden:!0},"Choose site"),n.data.records.map(function(e){return i.a.createElement("option",{key:e.idSite,value:e.idSite},e.name)}))},null):i.a.createElement("div",null,"Loading..."),n.data&&n.data.records?i.a.createElement(function(){return i.a.createElement(Te.a,{native:!0,inputProps:{style:{width:"25"}},input:i.a.createElement(Me.a,null),color:"primary",name:"param-select",value:r.param,onChange:function(e){var t=e.target.value;r.idSite!==Re.idSite&&t!==Re.param&&o({param:t,paramName:b[r.idSite][t].name,value:b[r.idSite][t].value,name:b[r.idSite][t].name})}},i.a.createElement("option",{key:"null",value:"-",hidden:!0},r.idSite===Re.idSite?"Choose site first":"Choose parameter"),function(e,t){var a=[];for(var n in e[t])a.push({id:n,name:e[t][n].name,value:e[t][n].value});return a}(b,r.idSite).map(function(e){return i.a.createElement("option",{key:e.id,value:e.id},e.name)}))},null):null,i.a.createElement(Me.a,{inputProps:{style:{width:"-webkit-fill-available"}},color:"primary",placeholder:"Edit parameter name",value:r.name,onChange:function(e){var t=e.target.value;o({name:t})}})),i.a.createElement(ct,null),i.a.createElement(Ue,{newDashboard:l,editElement:c,deleteElement:s,setMouseCoordinate:t,setNewElement:o,instDataObject:b}),i.a.createElement("div",{style:{position:"fixed",left:"5px",bottom:"5px",zIndex:"100"}},i.a.createElement(te.a,{color:"primary",onChange:function(e){var t=e.target.value;return m(t)},value:u}),i.a.createElement(ae.a,{onClick:function(){var e=l.filter(function(e){return!1===e.delete||void 0===e.delete});d({dashboard:e,name:u,id:p})}},"Save dashboard"))):i.a.createElement("div",{className:"inner-warning"},"Please login first!")}}]),t}(i.a.Component),yt={setMouseCoordinate:Ae,setNewElement:Le,setToNewDashboard:Ke,editElement:$e,deleteElement:qe,clearElement:_e,setDashboardName:bt,setDashboardId:ft,setDashboard:st,clearNewDashboard:Qe,setNewDashboard:ze},It=Object(f.b)(function(e){return{isLogin:B(e),installationResponce:W(e),newElement:Be(e),newDashboard:tt(e),dashboards:pt(e),dashboardName:Ot(e),dashboardId:Dt(e),instDataObject:J(e)}},yt)(St),At=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(Z),clearTimeout(Z)}},{key:"componentWillMount",value:function(){ee(this.props.isLogin,this.props.setInstallations,this.props.setInstallationObjectData)}},{key:"render",value:function(){var e=this,t=this.props,a=t.dashboards,n=t.deleteDashboard,o=t.instDataObject,r=Nt.a.parse(this.props.location.search);return r.id&&a[r.id]?i.a.createElement("div",{style:{position:"static"}},i.a.createElement("div",{className:"dashboard",style:{position:"relative"}},a[r.id].dashboard.map(function(e,t){return""===e?null:i.a.createElement("div",{key:t,style:{position:"absolute",left:e.X,top:e.Y}},"".concat(e.element.name," : \n                            ").concat(o[e.element.idSite]&&o[e.element.idSite][e.element.param]?o[e.element.idSite][e.element.param].value:"---"))})),i.a.createElement("div",{style:{position:"fixed",left:"5px",bottom:"5px"}},i.a.createElement(ae.a,{onClick:function(){e.props.history.push("/newdashboard/?id=".concat(r.id))}},"Change dashboard"),i.a.createElement(ae.a,{onClick:function(){window.confirm("Do you really want to delete dashboard?")&&(n(r.id),e.props.history.push("/"))}},"Delete dashboard"))):a.map(function(e,t){return e?i.a.createElement(E.b,{key:t,to:"/dashboards/?id=".concat(e.id)},i.a.createElement("div",null,e.name)):null})}}]),t}(i.a.Component),wt={setInstallations:x,deleteDashboard:ut,setInstallationObjectData:G},Ct=Object(f.b)(function(e){return{dashboards:pt(e),installationsResponce:W(e),isLogin:B(e),instDataObject:J(e)}},wt)(At),Tt=Object(g.a)("HIDE_MAIN_MENU/TOGGLE_MAIN_MENU"),Mt=Object(D.a)(Object(v.a)({},Tt,function(e,t){t.payload;return!e}),!0),Lt=function(e){return e.hideMainMenu},_t=Object(h.a)({palette:{primary:Ne.a,secondary:Se.a}}),Rt=function(){return i.a.createElement("div",null,i.a.createElement("h2",null,"404 Error: Page not found"),i.a.createElement(E.b,{to:"/sites"},"Go to main"))},kt=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("loginVRM"),t=localStorage.getItem("installationsVRM"),a=localStorage.getItem("dashboards"),n=localStorage.getItem("installationsObjectData");e&&this.props.setIsLogin(JSON.parse(e)),t&&this.props.setInst(JSON.parse(t)),a&&this.props.setDashboards(JSON.parse(a)),n&&this.props.setInstallationObjectData(JSON.parse(n))}},{key:"render",value:function(){var e=this.props,t=e.dashboards,a=e.hideMainMenu,n=e.toggleHide,o=e.setDashboardId,r=e.setDashboardName,l=e.clearNewDashboard;return i.a.createElement(b.a,{theme:_t},i.a.createElement("div",{className:"app"},i.a.createElement("h1",null,"PV monitor"),i.a.createElement(E.a,{basename:"/PVM"},i.a.createElement(ye,{dashboards:t,toggleHide:n,hide:a,setDashboardId:o,setDashboardName:r,clearNewDashboard:l}),i.a.createElement(ce,null),i.a.createElement(O.d,null,i.a.createElement(O.b,{exact:!0,path:"/",component:je}),i.a.createElement(O.b,{path:"/sites",component:je}),i.a.createElement(O.b,{path:"/dashboards",component:Ct}),i.a.createElement(O.b,{path:"/newdashboard",component:It}),i.a.createElement(O.b,{component:Rt})))))}}]),t}(i.a.Component),Bt={setIsLogin:_,setInst:x,setDashboards:dt,toggleHide:Tt,setInstallationObjectData:G,setDashboardId:ft,setDashboardName:bt,clearNewDashboard:Qe},Ht=Object(f.b)(function(e){return{dashboards:pt(e),hideMainMenu:Lt(e)}},Bt)(kt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xt,Pt=a(45),Wt={loginField:N,loginInput:T,loginVRM:k,installationsVRM:P,selectedInst:Ee,installationsObjectData:U,mouseCoordinates:we,newDashboardElement:ke,newDashboard:et,dashboards:mt,dashboardName:Et,dashboardId:gt,hideMainMenu:Mt};var Yt=(xt={},Object(v.a)(xt,"LOGIN_VRM/SET_ISNTLOGIN","loginVRM"),Object(v.a)(xt,H,"installationsVRM"),Object(v.a)(xt,X,"installationsObjectData"),Object(v.a)(xt,"DASHBOARDS/SET_DASHBOARD","dashboards"),xt),Vt=[H,"LOGIN_VRM/SET_ISNTLOGIN",X,"DASHBOARDS/SET_DASHBOARD"],Xt=function(e){return function(t){return function(a){var n,o,r=t(a),i=e.getState();return-1!==Vt.indexOf(a.type)&&(n=Yt[a.type],o=JSON.stringify(i[Yt[a.type]]),localStorage.setItem(n,o)),r}}},Gt=function(){return[Xt]};a.d(t,"store",function(){return Ft});var Ut,Jt,Ft=(Ut=Wt,Jt=Gt(),Object(Pt.d)(Object(Pt.c)(Ut),{},Pt.a.apply(void 0,Object(Fe.a)(Jt))));c.a.render(i.a.createElement(function(){return i.a.createElement(f.a,{store:Ft},i.a.createElement(Ht,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},92:function(e,t,a){e.exports=a(134)},97:function(e,t,a){},98:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},99:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.94e9e2fd.chunk.js.map