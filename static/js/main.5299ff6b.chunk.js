(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,a){"use strict";a.r(t);var n,o,r=a(0),i=a.n(r),l=a(9),c=a.n(l),s=(a(97),a(18)),u=a(12),d=a(20),m=a(19),b=a(21),p=(a(98),a(99),a(170)),h=a(88),E=a(33),O=a(28),f=a(14),v=a(5),g=a(175),D=a(172),j=Object(g.a)("LOGIN_FIELD/SET_SWITH"),N=Object(D.a)(Object(v.a)({},j,function(e,t){t.payload;return!e}),!0),S=function(e){return e.loginField},y=Object(g.a)("LOGIN_INPUT/SET_LOGIN"),I=Object(g.a)("LOGIN_INPUT/ET_PAROL"),A=Object(g.a)("LOGIN_INPUT/CLEAR_PASS"),w={login:"175.com.ua@gmail.com",pass:"Ww9TArkV!dndv53"},C={login:"",pass:""},M=Object(D.a)((n={},Object(v.a)(n,y,function(e,t){return{login:t.payload,pass:e.pass}}),Object(v.a)(n,I,function(e,t){var a=t.payload;return{login:e.login,pass:a}}),Object(v.a)(n,A,function(e,t){t.payload;return C}),n),w),T=function(e){return e.loginInput},L="LOGIN_VRM/SET_TOKEN",_=Object(g.a)("LOGIN_VRM/SET_ISNTLOGIN"),R=Object(g.a)(L),k={islogin:!1,username:"",idUser:null,headerWithToken:{}},B=Object(D.a)((o={},Object(v.a)(o,_,function(e,t){t.payload;return k}),Object(v.a)(o,R,function(e,t){return t.payload}),o),k),H=function(e){return e.loginVRM},x="INSTALLATIONS_VRM/SET_INSTALLATIONS",P=Object(g.a)(x),W=Object(D.a)(Object(v.a)({},P,function(e,t){return t.payload}),{data:{success:!1}}),Y=function(e){return e.installationsVRM},X=a(62),V=a.n(X),G="INSTALLATIONS_OBJECT_DATA/SET_DATA",U=Object(g.a)(G),J=Object(D.a)(Object(v.a)({},U,function(e,t){return t.payload}),{}),F=function(e){return e.installationsObjectData},K="https://vrmapi.victronenergy.com",z="/v2/auth/login";var $=q(function(e){return"".concat(K,"/v2/users/").concat(e,"/installations?extended=1")});q(function(e){return"".concat(K,"/v2/installations/").concat(e,"/system-overview")});function q(e){return function(t,a){return new Promise(function(n,o){V()({method:"get",url:e(t),headers:a}).then(function(e){n(e)}).catch(function(e){o(e)})})}}function Q(){var e=T(Kt.getState());return new Promise(function(t,a){V()({method:"post",url:K+z,data:'{"username": "'.concat(e.login,'", "password": "').concat(e.pass,'"}')}).then(function(a){if(200===a.status){var n={"X-Authorization":"Bearer "+a.data.token},o=a.data.idUser;Kt.dispatch(j());var r={islogin:!0,username:e.login,idUser:o,headerWithToken:n};$(r.idUser,r.headerWithToken).then(function(e){Kt.dispatch(R(r)),Kt.dispatch(P(e)),e.data&&e.data.records&&Z(e)}),t(!0)}}).catch(function(e){return console.log("login error: ".concat(e)),null})})}function Z(e){var t={};return e.data.records.map(function(e){var a={siteName:e.name};e.extended.map(function(e){a[e.idDataAttribute||e.code]={name:e.description,value:e.formattedValue}}),t[e.idSite]=a}),Kt.dispatch(U(t)),t}var ee=null;function te(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;ee=setTimeout(function(){ee=setInterval(function(){e.islogin&&$(e.idUser,e.headerWithToken).then(function(e){t(e),a&&Z(e)})},n)},n)}var ae=a(173),ne=a(166),oe=i.a.createRef(),re=function(e){var t=e.isActive,a=e.onChangeLogin,n=e.onChangeParol,o=e.loginPass;return t?i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(ae.a,{autoFocus:!0,placeholder:"login or email:",onChange:function(e){var t=e.target.value;return console.log(t)||a(t)},onKeyDown:function(e){13===e.keyCode&&oe.current.focus()},value:o.login})),i.a.createElement("div",null,i.a.createElement(ae.a,{inputRef:oe,type:"password",placeholder:"password",onChange:function(e){var t=e.target.value;return n(t)},onKeyDown:function(e){13===e.keyCode&&Q()},value:o.pass})),i.a.createElement("div",null,i.a.createElement(ne.a,{color:"primary",onClick:function(){return Q()}},"Login"))):null},ie=function(e){var t=e.isLogin,a=e.logout;return t.islogin?i.a.createElement("div",null,i.a.createElement("div",null,t.username),i.a.createElement("div",null,i.a.createElement(ne.a,{color:"secondary",onClick:a},"Exit"))):null},le=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.showLogin,a=e.isActive,n=e.onChangeLogin,o=e.onChangeParol,r=e.loginPass,l=e.isLogin,c=e.logout;return i.a.createElement("div",{className:"login"},i.a.createElement("div",null,i.a.createElement(ne.a,{color:"secondary",onClick:function(){return t(a)}},"Login")),i.a.createElement(re,{isActive:a,onChangeLogin:n,onChangeParol:o,loginPass:r}),i.a.createElement("div",null,i.a.createElement(ie,{isLogin:l,logout:c})))}}]),t}(i.a.Component),ce={showLogin:j,onChangeLogin:y,onChangeParol:I,logout:_,setInstallationObjectData:U},se=Object(f.b)(function(e){return{isActive:S(e),loginPass:T(e),isLogin:H(e)}},ce)(le),ue=function(e){var t=new Date(1e3*e.last_timestamp),a=t.getFullYear(),n=t.getMonth()+1>9?t.getMonth()+1:"0"+(t.getMonth()+1),o=t.getDate()>9?t.getDate():"0"+t.getDate(),r=t.getHours()>9?t.getHours():"0"+t.getHours(),i=t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes();return!0===e.alarm?"".concat(e.name," ( last connect: ").concat(r,":").concat(i," ").concat(o,".").concat(n,".").concat(a," ) !alarm!"):"".concat(e.name," ( last connect: ").concat(r,":").concat(i," ").concat(o,".").concat(n,".").concat(a," )")},de=[143,215],me=["consumption","solar_yield","from_to_grid"],be=function(e){var t=e.extended,a=t.filter(function(e){return-1!==de.indexOf(e.idDataAttribute)}),n=t.filter(function(e){return-1!==me.indexOf(e.code)}),o=a.concat(n);return i.a.createElement("div",{className:"small-site-data"},o.map(function(e){return i.a.createElement("div",{key:e.idDataAttribute||e.code},e.description," ",e.formattedValue)}))},pe=function(e){var t=e.site,a=e.selectInst,n=e.selectedInst;e.isLogin;return t.idSite===n?i.a.createElement("div",null,i.a.createElement(ne.a,{color:"primary",disabled:!0},ue(t)),i.a.createElement(be,{extended:t.extended})):i.a.createElement("div",null,i.a.createElement(ne.a,{color:"primary",onClick:function(){a(t.idSite)}},ue(t)),i.a.createElement(be,{extended:t.extended}))},he=function(e){var t=e.installationResponce,a=e.selectInst,n=e.selectedInst,o=e.isLogin;return t&&t.data.success?i.a.createElement("div",{className:"installation-menu"},t.data.records.map(function(e){return i.a.createElement("div",{key:e.idSite},i.a.createElement(pe,{site:e,selectInst:a,selectedInst:n,isLogin:o}))})):i.a.createElement("div",null,"Can`t receive installations list")},Ee=Object(g.a)("SELECTED_INST/SET_INST"),Oe=Object(D.a)(Object(v.a)({},Ee,function(e,t){return t.payload}),null),fe=function(e){return e.selectedInst},ve=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props;e.id;return e.instData.data.success?i.a.createElement("div",{className:"installation-details"}):null}}]),t}(i.a.Component),ge=Object(f.b)(function(e){return{id:fe(e),instData:Y(e)}},{})(ve),De=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(ee),clearTimeout(ee)}},{key:"componentWillMount",value:function(){te(this.props.isLogin,this.props.setInstallations,this.props.setInstallationObjectData)}},{key:"render",value:function(){var e=this.props,t=e.isLogin,a=e.installationResponce,n=e.selectInst,o=e.selectedInst;return t.islogin?i.a.createElement("div",{className:"installations"},i.a.createElement(O.a,{push:!0,to:"/sites"}),i.a.createElement(he,{installationResponce:a,selectInst:n,selectedInst:o,isLogin:t}),i.a.createElement(ge,null)):i.a.createElement("div",{className:"inner-warning"},"Please login first!")}}]),t}(i.a.Component),je={selectInst:Ee,setInstallations:P,setInstallationObjectData:U},Ne=Object(f.b)(function(e){return{isLogin:H(e),installationResponce:Y(e),selectedInst:fe(e)}},je)(De),Se=a(168),ye=a(169);function Ie(e){var t=e.dashboards,a=e.hide,n=e.toggleHide,o=e.setDashboardId,r=e.setDashboardName,l=e.clearNewDashboard;return a?i.a.createElement("div",{className:"main-menu-conteiner"},i.a.createElement(ne.a,{color:"primary",className:"main-menu-button",onClick:n},"Menu")):i.a.createElement("div",{className:"main-menu-conteiner",onMouseLeave:n},i.a.createElement(ne.a,{color:"primary",className:"main-menu-button",onClick:n},"hide menu"),i.a.createElement("div",{className:"main-menu"},i.a.createElement(E.b,{to:"/sites",onClick:n},i.a.createElement("div",{className:"main-menu-base-elem"},"Go to main")),t.map(function(e,t){return e?i.a.createElement(E.b,{key:t,to:"/dashboards/?id=".concat(e.id),onClick:n},i.a.createElement("div",{className:"main-menu-elem"},e.name)):null}),i.a.createElement(E.b,{to:"/newdashboard",onClick:function(){n(),o(t.length),r("Dashboard #".concat(t.length)),l()}},i.a.createElement("div",{className:"main-menu-base-elem"},"Create Dashboard"))))}var Ae,we=Object(g.a)("MOUSE_COORD/SET_COORD"),Ce=Object(D.a)(Object(v.a)({},we,function(e,t){var a=t.payload,n=Object.assign({},e);for(var o in a)n[o]=a[o];return n}),{in:!0,X:0,Y:0,dragX:0,dragY:0}),Me=function(e){return e.mouseCoordinates},Te=a(171),Le=a(174),_e=Object(g.a)("NEW_ELEMENT/SET_ELEMENT"),Re=Object(g.a)("NEW_ELEMENT/CLEAR_ELEMENT"),ke={idSite:"-",param:"-"},Be=Object(D.a)((Ae={},Object(v.a)(Ae,_e,function(e,t){var a=t.payload;return{idSite:a.idSite||e.idSite,param:a.param||e.param,name:""===a.name?"":a.name||e.name,paramName:a.paramName||e.paramName,value:a.value||e.value}}),Object(v.a)(Ae,Re,function(e,t){t.payload;return ke}),Ae),ke),He=function(e){return e.newDashboardElement},xe=a(87),Pe=a.n(xe),We=a(85),Ye=a.n(We),Xe=a(86),Ve=a.n(Xe),Ge=a(167);function Ue(e){var t=e.element,a=e.setMouseCoordinate,n=e.setNewElement,o=e.deleteElement,r=e.newDashboard,l=e.editElement,c=e.instDataObject,s=e.id;return t?i.a.createElement("div",{className:"constructor-element",style:{position:"absolute",left:t.X,top:t.Y},key:s,onMouseMove:function(e){a({X:e.clientX,Y:e.clientY-e.currentTarget.parentElement.getBoundingClientRect().top})}},i.a.createElement("div",{style:{cursor:"move"},classname:"text-elem-dashboard-constructor-div",onMouseDown:function(e){0===e.button&&(a({dragX:e.clientX-e.currentTarget.getBoundingClientRect().left,dragY:e.clientY-e.currentTarget.getBoundingClientRect().top}),n(r[s].element),o(s))},onDoubleClick:function(e){prompt("Monitor name:",t.element.name)}},"".concat(t.element.name," : ").concat(t.element.value)),i.a.createElement("div",null,i.a.createElement(Ge.a,{className:"edit-elem-button",onClick:function(){var e=prompt("Monitor name:",t.element.name);e&&l({id:s,element:{name:e}})}},i.a.createElement(Ye.a,null))),i.a.createElement("div",null,i.a.createElement(Ge.a,{className:"info-elem-button",onClick:function(){console.log(t),alert("\n                    monitor name: ".concat(t.element.name,"\n                    site: ").concat(c[t.element.idSite].siteName,"\n                    parameter: ").concat(c[t.element.idSite][t.element.param].name,"\n                    value example: ").concat(c[t.element.idSite][t.element.param].value))}},i.a.createElement(Ve.a,null))),i.a.createElement("div",null,i.a.createElement(Ge.a,{className:"delete-elem-button",onClick:function(){window.confirm("Do You want delete element?")&&o(s)}},i.a.createElement(Pe.a,null)))):null}function Je(e){var t=e.newDashboard,a=e.editElement,n=e.deleteElement,o=e.setMouseCoordinate,r=e.setNewElement,l=e.instDataObject;return i.a.createElement("div",{className:"dashboard-in-constructor"},i.a.createElement("div",{className:"constructor-help-text"},i.a.createElement("p",null,"Choose site and parameter to add element."),i.a.createElement("p",null,"To move element hold mouse button and drag.")),t.map(function(e,c){return e.delete?null:i.a.createElement(Ue,{element:e,setMouseCoordinate:o,setNewElement:r,deleteElement:n,newDashboard:t,editElement:a,instDataObject:l,id:c,key:c})}))}var Fe,Ke=a(29),ze=Object(g.a)("NEW_DASHBOARD/SET_DASHBOARD_ELEMENT"),$e=Object(g.a)("NEW_DASHBOARD/SET_DASHBOARD"),qe=Object(g.a)("NEW_DASHBOARD/EDIT_DASHBOARD_ELEMENT"),Qe=Object(g.a)("NEW_DASHBOARD/DELETE_DASHBOARD_ELEMENT"),Ze=Object(g.a)("NEW_DASHBOARD/CLEAR_DASHBOARD"),et=[],tt=Object(D.a)((Fe={},Object(v.a)(Fe,ze,function(e,t){var a=t.payload;return[].concat(Object(Ke.a)(e),[a])}),Object(v.a)(Fe,$e,function(e,t){return t.payload}),Object(v.a)(Fe,Ze,function(e,t){t.payload;return et}),Object(v.a)(Fe,qe,function(e,t){var a=t.payload,n=Object(Ke.a)(e);for(var o in a.element)n[a.id].element[o]=a.element[o];return n}),Object(v.a)(Fe,Qe,function(e,t){var a=t.payload,n=Object(Ke.a)(e);return n[a].delete=!0,n}),Fe),et),at=function(e){return e.newDashboard};function nt(e){var t=e.newElement,a=e.coord,n=e.setToNewDashboard,o=e.clearElement,r=e.setMouseCoordinate;return a.in||a.dragX||a.dragY?a.Y<0?null:t===ke?null:i.a.createElement("div",{className:"levitate-element-div",style:{position:"absolute",left:"".concat(a.X-a.dragX,"px"),top:"".concat(a.Y-a.dragY,"px")},onMouseUp:function(e){t.idSite!==ke.idSite&&t.param!==ke.param&&(n({element:t,X:a.X-a.dragX,Y:a.Y-a.dragY}),o()),r({dragX:0,dragY:0})}},t.name||"choose monitor"," : ",t.value||""):null}var ot,rt,it,lt=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.setMouseCoordinate,a=e.coord,n=e.newElement,o=e.setToNewDashboard,r=e.clearElement;return i.a.createElement("div",{className:"constructor-field",style:{position:"absolute",top:"0",bottom:"0",width:"100%"},onMouseMove:function(e){t({in:!0,X:e.clientX-e.currentTarget.getBoundingClientRect().left,Y:e.clientY-e.currentTarget.getBoundingClientRect().top})},onMouseEnter:function(e){t({in:!0})},onMouseLeave:function(e){t({in:!1,X:e.clientX,Y:e.clientY-e.currentTarget.getBoundingClientRect().top})}},i.a.createElement(nt,{setMouseCoordinate:t,coord:a,newElement:n,setToNewDashboard:o,clearElement:r}))}}]),t}(i.a.Component),ct={setMouseCoordinate:we,setToNewDashboard:ze,clearElement:Re},st=Object(f.b)(function(e){return{coord:Me(e),newElement:He(e)}},ct)(lt),ut=Object(g.a)("DASHBOARDS/SET_DASHBOARD"),dt=Object(g.a)("DASHBOARDS/LOAD_DASHBOARDS"),mt=(Object(g.a)("DASHBOARDS/EDIT_DASHBOARD"),Object(g.a)("DASHBOARDS/DELETE_DASHBOARD")),bt=Object(D.a)((ot={},Object(v.a)(ot,ut,function(e,t){var a=t.payload,n=Object(Ke.a)(e);return n[a.id]={dashboard:a.dashboard,name:a.name,id:a.id},n}),Object(v.a)(ot,dt,function(e,t){return t.payload}),Object(v.a)(ot,mt,function(e,t){var a=t.payload,n=Object(Ke.a)(e);return n[a]="",n}),ot),[]),pt=function(e){return e.dashboards},ht=Object(g.a)("DASHBOARD_NAME/SET_NAME"),Et=Object(g.a)("DASHBOARD_NAME/CLEAR_NAME"),Ot=Object(D.a)((rt={},Object(v.a)(rt,ht,function(e,t){return t.payload}),Object(v.a)(rt,Et,function(e,t){t.payload;return"newDashboard"}),rt),"newDashboard"),ft=function(e){return e.dashboardName},vt=Object(g.a)("DASHBOARD_NAME/SET_ID"),gt=Object(g.a)("DASHBOARD_NAME/CLEAR_ID"),Dt=Object(D.a)((it={},Object(v.a)(it,vt,function(e,t){return t.payload}),Object(v.a)(it,gt,function(e,t){t.payload;return null}),it),null),jt=function(e){return e.dashboardId},Nt=a(58),St=a.n(Nt),yt=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=St.a.parse(this.props.location.search);e.id?(this.props.setNewDashboard(this.props.dashboards[e.id].dashboard),this.props.setDashboardName(this.props.dashboards[e.id].name),this.props.setDashboardId(parseInt(e.id))):(this.props.setDashboardId(this.props.dashboards.length),this.props.setDashboardName("Dashboard #".concat(this.props.dashboards.length)),this.props.clearNewDashboard())}},{key:"componentWillUnmount",value:function(){this.props.setDashboardId(null),this.props.clearNewDashboard()}},{key:"render",value:function(){var e=this.props,t=e.setMouseCoordinate,a=e.isLogin,n=e.installationResponce,o=e.setNewElement,r=e.newElement,l=e.newDashboard,c=(e.setToNewDashboard,e.editElement),s=e.deleteElement,u=(e.clearElement,e.dashboards,e.setDashboard),d=e.dashboardName,m=e.setDashboardName,b=e.dashboardId,p=(e.setDashboardId,e.instDataObject);return a.islogin?i.a.createElement("div",{className:"constructor",style:{}},i.a.createElement("div",{className:"element-select-div",style:{width:"100%"}},n.data&&n.data.records?i.a.createElement(function(){return i.a.createElement(Te.a,{native:!0,inputProps:{style:{width:"25"}},input:i.a.createElement(Le.a,null),color:"primary",name:"site-select",value:r.idSite,onChange:function(e){var t=e.target.value;"-"!==t&&o({idSite:t})}},i.a.createElement("option",{key:"null",value:"-",hidden:!0},"Choose site"),n.data.records.map(function(e){return i.a.createElement("option",{key:e.idSite,value:e.idSite},e.name)}))},null):i.a.createElement("div",null,"Loading..."),n.data&&n.data.records?i.a.createElement(function(){return i.a.createElement(Te.a,{native:!0,inputProps:{style:{width:"25"}},input:i.a.createElement(Le.a,null),color:"primary",name:"param-select",value:r.param,onChange:function(e){var t=e.target.value;r.idSite!==ke.idSite&&t!==ke.param&&o({param:t,paramName:p[r.idSite][t].name,value:p[r.idSite][t].value,name:p[r.idSite][t].name})}},i.a.createElement("option",{key:"null",value:"-",hidden:!0},r.idSite===ke.idSite?"Choose site first":"Choose parameter"),function(e,t){var a=[];for(var n in e[t])a.push({id:n,name:e[t][n].name,value:e[t][n].value});return a}(p,r.idSite).map(function(e){return i.a.createElement("option",{key:e.id,value:e.id},e.name)}))},null):null,i.a.createElement(Le.a,{inputProps:{style:{width:"-webkit-fill-available"}},color:"primary",placeholder:"Edit parameter name",value:r.name,onChange:function(e){var t=e.target.value;o({name:t})}})),i.a.createElement("div",{className:"constructor-box",style:{position:"relative",height:"100vh"}},i.a.createElement(st,null),i.a.createElement(Je,{newDashboard:l,editElement:c,deleteElement:s,setMouseCoordinate:t,setNewElement:o,instDataObject:p})),i.a.createElement("div",{style:{position:"fixed",left:"5px",bottom:"5px",zIndex:"100"}},i.a.createElement(ae.a,{color:"primary",onChange:function(e){var t=e.target.value;return m(t)},value:d}),i.a.createElement(ne.a,{onClick:function(){var e=l.filter(function(e){return!1===e.delete||void 0===e.delete});u({dashboard:e,name:d,id:b})}},"Save dashboard"))):i.a.createElement("div",{className:"inner-warning"},"Please login first!")}}]),t}(i.a.Component),It={setMouseCoordinate:we,setNewElement:_e,setToNewDashboard:ze,editElement:qe,deleteElement:Qe,clearElement:Re,setDashboardName:ht,setDashboardId:vt,setDashboard:ut,clearNewDashboard:Ze,setNewDashboard:$e},At=Object(f.b)(function(e){return{isLogin:H(e),installationResponce:Y(e),newElement:He(e),newDashboard:at(e),dashboards:pt(e),dashboardName:ft(e),dashboardId:jt(e),instDataObject:F(e)}},It)(yt),wt=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(ee),clearTimeout(ee)}},{key:"componentWillMount",value:function(){te(this.props.isLogin,this.props.setInstallations,this.props.setInstallationObjectData)}},{key:"render",value:function(){var e=this,t=this.props,a=t.dashboards,n=t.deleteDashboard,o=t.instDataObject,r=St.a.parse(this.props.location.search);return r.id&&a[r.id]?i.a.createElement("div",{style:{position:"static"}},i.a.createElement("div",{className:"dashboard",style:{position:"relative"}},a[r.id].dashboard.map(function(e,t){return""===e?null:i.a.createElement("div",{key:t,style:{position:"absolute",left:e.X,top:e.Y}},"".concat(e.element.name," : \n                            ").concat(o[e.element.idSite]&&o[e.element.idSite][e.element.param]?o[e.element.idSite][e.element.param].value:"---"))})),i.a.createElement("div",{style:{position:"fixed",left:"5px",bottom:"5px"}},i.a.createElement(ne.a,{onClick:function(){e.props.history.push("/newdashboard/?id=".concat(r.id))}},"Change dashboard"),i.a.createElement(ne.a,{onClick:function(){window.confirm("Do you really want to delete dashboard?")&&(n(r.id),e.props.history.push("/"))}},"Delete dashboard"))):a.map(function(e,t){return e?i.a.createElement(E.b,{key:t,to:"/dashboards/?id=".concat(e.id)},i.a.createElement("div",null,e.name)):null})}}]),t}(i.a.Component),Ct={setInstallations:P,deleteDashboard:mt,setInstallationObjectData:U},Mt=Object(f.b)(function(e){return{dashboards:pt(e),installationsResponce:Y(e),isLogin:H(e),instDataObject:F(e)}},Ct)(wt),Tt=Object(g.a)("HIDE_MAIN_MENU/TOGGLE_MAIN_MENU"),Lt=Object(D.a)(Object(v.a)({},Tt,function(e,t){t.payload;return!e}),!0),_t=function(e){return e.hideMainMenu},Rt=Object(h.a)({palette:{primary:Se.a,secondary:ye.a}}),kt=function(){return i.a.createElement("div",null,i.a.createElement("h2",null,"404 Error: Page not found"),i.a.createElement(E.b,{to:"/sites"},"Go to main"))},Bt=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("loginVRM"),t=localStorage.getItem("installationsVRM"),a=localStorage.getItem("dashboards"),n=localStorage.getItem("installationsObjectData");e&&this.props.setIsLogin(JSON.parse(e)),t&&this.props.setInst(JSON.parse(t)),a&&this.props.setDashboards(JSON.parse(a)),n&&this.props.setInstallationObjectData(JSON.parse(n))}},{key:"render",value:function(){var e=this.props,t=e.dashboards,a=e.hideMainMenu,n=e.toggleHide,o=e.setDashboardId,r=e.setDashboardName,l=e.clearNewDashboard;return i.a.createElement(p.a,{theme:Rt},i.a.createElement("div",{className:"app"},i.a.createElement("h1",null,"PV monitor"),i.a.createElement(E.a,{basename:"/PVM"},i.a.createElement(Ie,{dashboards:t,toggleHide:n,hide:a,setDashboardId:o,setDashboardName:r,clearNewDashboard:l}),i.a.createElement(se,null),i.a.createElement(O.d,null,i.a.createElement(O.b,{exact:!0,path:"/",component:Ne}),i.a.createElement(O.b,{path:"/sites",component:Ne}),i.a.createElement(O.b,{path:"/dashboards",component:Mt}),i.a.createElement(O.b,{path:"/newdashboard",component:At}),i.a.createElement(O.b,{component:kt})))))}}]),t}(i.a.Component),Ht={setIsLogin:R,setInst:P,setDashboards:dt,toggleHide:Tt,setInstallationObjectData:U,setDashboardId:vt,setDashboardName:ht,clearNewDashboard:Ze},xt=Object(f.b)(function(e){return{dashboards:pt(e),hideMainMenu:_t(e)}},Ht)(Bt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pt,Wt=a(45),Yt={loginField:N,loginInput:M,loginVRM:B,installationsVRM:W,selectedInst:Oe,installationsObjectData:J,mouseCoordinates:Ce,newDashboardElement:Be,newDashboard:tt,dashboards:bt,dashboardName:Ot,dashboardId:Dt,hideMainMenu:Lt};var Xt=(Pt={},Object(v.a)(Pt,"LOGIN_VRM/SET_ISNTLOGIN","loginVRM"),Object(v.a)(Pt,L,"loginVRM"),Object(v.a)(Pt,x,"installationsVRM"),Object(v.a)(Pt,G,"installationsObjectData"),Object(v.a)(Pt,"DASHBOARDS/SET_DASHBOARD","dashboards"),Pt),Vt=[x,"LOGIN_VRM/SET_ISNTLOGIN",L,G,"DASHBOARDS/SET_DASHBOARD"],Gt=function(e){return function(t){return function(a){var n,o,r=t(a),i=e.getState();return-1!==Vt.indexOf(a.type)&&(n=Xt[a.type],o=JSON.stringify(i[Xt[a.type]]),localStorage.setItem(n,o)),r}}},Ut=function(){return[Gt]};a.d(t,"store",function(){return Kt});var Jt,Ft,Kt=(Jt=Yt,Ft=Ut(),Object(Wt.d)(Object(Wt.c)(Jt),{},Wt.a.apply(void 0,Object(Ke.a)(Ft))));c.a.render(i.a.createElement(function(){return i.a.createElement(f.a,{store:Kt},i.a.createElement(xt,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},92:function(e,t,a){e.exports=a(134)},97:function(e,t,a){},98:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},99:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.5299ff6b.chunk.js.map